(function(z){
'use strict';var H7=function(a){z.Jf.call(this);this.C(a)},I7=function(a){H7.apply(this,arguments)},J7=function(a,b){z.NC.call(this,a,b,3)},K7=function(a){z.Jf.call(this);this.C(a)},L7=function(a){z.Jf.call(this);this.C(a)},S3a=function(a,b){if(a.QX[b])return a.QX[b];var c=new J7(a.X,b);return a.QX[b]=c},T3a=function(a,b,c){return z.t(z.nD(a.Z,z.Bt,{username:b},{query:{filter:c}}),a.l2,a)},M7=function(a){K7.apply(this,arguments)},N7=function(a){L7.apply(this,arguments)},O7=function(a){z.Jf.call(this);
this.C(a)},P7=function(a){a=a?new Date(a):new Date;return(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0)).getTime()},U3a=function(){return{views:!0,reads:!0,readRatio:!0,recommends:!0}},Q7=function(a,b){a=P7(a);var c=[];b=Math.floor((b-a)/864E5);for(var d=0;d<=b;d++){var e=P7(a+864E5*d+144E5);c.push(e)}return c},R7=function(a){z.H.call(this);this.C(a)},S7=function(a){z.H.call(this);this.C(a)},W3a=function(a,b){return(a=a.match(V3a))?Number(a[1])*b[a[2]]:window.NaN},X3a=function(a){return"series"==
a?{views:!0,updateNotificationSubscribers:!0,claps:!0}:U3a()},Y3a=function(a,b){var c={};Q7(a,b).forEach(function(a){c[a]={value:0,time:a}});return c},Z3a=function(a,b,c){var d={};a=Q7(a,b);a.forEach(function(a){d[a]={};c.forEach(function(b){d[a][b]=0})});return{buckets:d,mm:a}},T7=function(a,b){var c=P7(a-864E5*b);return a-c>864E5*b?P7(a-864E5*(b-1)):c},a4a=function(a){return z.wa(a,"B")?W3a(a,z.gya):W3a(a,$3a)},b4a=function(){var a=z.n("The total amount of time spent reading your publication.");
return(0,z.w)(""+a)},c4a=function(){var a=z.n("The total number of views your publication has received on all posts and pages.");return(0,z.w)(""+a)},d4a=function(){var a=z.n("The average number of unique daily visitors who have visited your publication. Each visitor is counted once per day, even if they view multiple pages or the same page multiple times.");return(0,z.w)(""+a)},e4a=function(){var a=z.n("Loading stats for sorting…");return(0,z.w)(""+a)},f4a=function(){var a=z.n("Could not load story stats.");
return(0,z.w)(""+a)},l4a=function(a,b,c){a=a||{};return(0,z.w)(z.y(z.pR(a,c))+g4a(a)+'\x3cdiv class\x3d"stats container u-maxWidth1072"\x3e'+h4a({collection:a.collection,selected:"overview"},c)+'\x3cdiv class\x3d"row u-marginTop30 u-xs-marginTop0 u-borderBottomLightest js-readingTimeStats"\x3e\x3cdiv class\x3d"col u-size5of12 u-md-size12of12 u-marginTop50 js-readingTimeStatsText"\x3e'+i4a(null)+'\x3c/div\x3e\x3cdiv class\x3d"col u-size7of12 u-md-size12of12"\x3e'+U7(c)+'\x3cdiv class\x3d"barGraph2 js-barGraph"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row u-marginTop30 u-xs-marginTop0 u-borderBottomLightest js-viewsStats"\x3e\x3cdiv class\x3d"col u-size5of12 u-md-size12of12 u-marginTop50 js-viewsStatsText"\x3e'+
j4a(null)+'\x3c/div\x3e\x3cdiv class\x3d"col u-size7of12 u-md-size12of12"\x3e'+U7(c)+'\x3cdiv class\x3d"barGraph2 js-barGraph"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row u-marginTop30 u-xs-marginTop0 u-borderBottomLightest js-visitorsStats"\x3e\x3cdiv class\x3d"col u-size5of12 u-md-size12of12 u-marginTop50 js-visitorsStatsText"\x3e'+k4a(null)+'\x3c/div\x3e\x3cdiv class\x3d"col u-size7of12 u-md-size12of12"\x3e'+U7(c)+'\x3cdiv class\x3d"barGraph2 js-barGraph"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'+
z.y(z.WD({collection:a.collection,Hd:".popover--branded"},c)))},g4a=function(a){a=a||{};return(0,z.w)(z.y(z.oR({title:z.Me(""+(a.collection?""+a.collection.name+" stats":"Stats"))})))},h4a=function(a,b){return(0,z.w)(z.y(z.aP({pe:!0,l:"heading--stats",Hj:(0,z.L)(""+z.y(z.$O({s:(0,z.L)("Overview"),action:"show-tab",actionValue:"overview",isActive:"overview"==a.selected,l:"u-fontSize16"},b))+z.y(z.$O({s:(0,z.L)("Stories"),action:"show-tab",actionValue:"stories",isActive:"stories"==a.selected,l:"u-fontSize16"},
b))),kg:(0,z.L)(""+m4a(a,b))})))},m4a=function(a,b){a=a||{};var c="";a=""+(a.collection?z.D(b.j.tFa):z.D(b.j.uGa));a=(0,z.K)(a);var d;d=(0,z.L)('Learn more\x3cspan class\x3d"u-sm-hide"\x3e about using stats\x3c/span\x3e');c+=z.y(z.N({Ta:!0,ca:!0,s:d,href:a,Ua:!0,l:"u-marginTop5 u-floatRight"},b));return(0,z.w)(c)},j4a=function(a){a=a||{};var b=a.views&&a.mm;a=""+((b?"\x3ch2\x3e"+z.y(z.kf(Number(a.views)))+"\x3c/h2\x3e":'\x3ch2 class\x3d"u-textColorNormal"\x3e…\x3c/h2\x3e')+"\x3cstrong "+(b?"":'class\x3d"u-textColorNormal"')+
"\x3eViews\x3c/strong\x3e"+(b?"\x3cspan\x3e ("+z.y(a.mm)+" days)\x3c/span\x3e":"")+'\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.y(c4a())+"\x3c/div\x3e");return(0,z.w)(a)},n4a=function(a){return(0,z.w)("\x3ch2\x3e"+z.y(z.kf(Number(a.views)))+"\x3c/h2\x3e\x3cstrong\x3eViews\x3c/strong\x3e \x3cspan\x3e("+z.y(a.date)+')\x3c/span\x3e\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.y(c4a())+"\x3c/div\x3e")},i4a=function(a){a=a||{};var b=a.readingTime&&a.mm;a=""+((b?"\x3ch2\x3e"+
z.y(z.kf(Number(a.readingTime)))+"\x3c/h2\x3e":'\x3ch2 class\x3d"u-textColorNormal"\x3e…\x3c/h2\x3e')+"\x3cstrong "+(b?"":'class\x3d"u-textColorNormal"')+"\x3eMinutes read\x3c/strong\x3e"+(b?"\x3cspan\x3e ("+z.y(a.mm)+" days)\x3c/span\x3e":"")+'\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.y(b4a())+"\x3c/div\x3e");return(0,z.w)(a)},o4a=function(a){return(0,z.w)("\x3ch2\x3e"+z.y(z.kf(Number(a.readingTime)))+"\x3c/h2\x3e\x3cstrong\x3eMinutes read\x3c/strong\x3e \x3cspan\x3e("+z.y(a.date)+
')\x3c/span\x3e\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.y(b4a())+"\x3c/div\x3e")},k4a=function(a){a=a||{};var b=a.UR&&a.mm;a=""+((b?"\x3ch2\x3e"+z.y(z.kf(Number(a.UR)))+"\x3c/h2\x3e":'\x3ch2 class\x3d"u-textColorNormal"\x3e…\x3c/h2\x3e')+"\x3cstrong "+(b?"":'class\x3d"u-textColorNormal"')+"\x3eVisitors\x3c/strong\x3e"+(b?"\x3cspan\x3e ("+z.y(a.mm)+"-day average)\x3c/span\x3e":"")+'\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.y(d4a())+"\x3c/div\x3e");return(0,z.w)(a)},
p4a=function(a){return(0,z.w)("\x3ch2\x3e"+z.y(z.kf(Number(a.UR)))+"\x3c/h2\x3e\x3cstrong\x3eVisitors\x3c/strong\x3e \x3cspan\x3e("+z.y(a.date)+')\x3c/span\x3e\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.y(d4a())+"\x3c/div\x3e")},U7=function(a){return(0,z.w)('\x3cdiv class\x3d"u-paddingBottom10"\x3e'+z.y(z.aP({pe:!0,Ib:!0,l:"heading--stats",Hj:(0,z.L)(""+z.y(z.$O({s:(0,z.L)("30 days"),action:"select-time",actionValue:"month",isActive:!0,l:"u-fontSize16 js-time-month"},a))+z.y(z.$O({s:(0,z.L)("90 days"),
action:"select-time",actionValue:"threeMonths",l:"u-fontSize16 js-time-threeMonths"},a)))}))+"\x3c/div\x3e")},r4a=function(a,b,c){b=""+z.y(z.hB(null,c))+(a.collection?z.y(g4a(a)):"")+'\x3cdiv class\x3d"container stats u-maxWidth1040"\x3e\x3cdiv class\x3d"u-backgroundWhite"\x3e'+(a.collection?z.y(h4a({collection:a.collection,selected:"stories"},c)):'\x3ch1 class\x3d"stats-title stats-title--page"\x3eStats\x3c/h1\x3e\x3cdiv class\x3d"stats-title stats-title--chart u-clearfix"\x3e\x3cdiv class\x3d"stats-titleInner stats-titleInner--all"\x3e\x3ch2 class\x3d"stats-titleHeading stats-titleHeading--all"\x3e\x3c/h2\x3e\x3cdiv class\x3d"chartHelper"\x3eClick story below to view in chart'+
z.y(m4a(a,c))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");if(!a.collection){b+='\x3cul class\x3d"chartTabs u-clearfix"\x3e';var d;d=(0,z.L)('\x3cspan class\x3d"u-fontWeightNormal u-xs-hide"\x3e (30 days)\x3c/span\x3e');b+=(a.XB[c.j.gE.hL]?'\x3cli class\x3d"is-active" data-action\x3d"switch-graph" data-action-value\x3d"views"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalViews"\x3e\x3c/div\x3e\x3cdiv\x3eViews '+z.y(d)+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e":"")+(a.XB[c.j.gE.KK]?
'\x3cli data-action\x3d"switch-graph" data-action-value\x3d"reads"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalReads"\x3e\x3c/div\x3e\x3cdiv\x3eReads '+z.y(d)+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e":"")+(a.XB[c.j.gE.oja]?'\x3cli data-action\x3d"switch-graph" data-action-value\x3d"fans"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalFans"\x3e\x3c/div\x3e\x3cdiv\x3eFans '+z.y(d)+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e":"")+(a.XB[c.j.gE.Gla]?
'\x3cli data-action\x3d"switch-graph" data-action-value\x3d"subscribers"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalSubscribers"\x3e\x3c/div\x3e\x3cdiv\x3eSubscribers '+z.y(d)+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e":"")+(a.XB[c.j.gE.YJ]?'\x3cli data-action\x3d"switch-graph" data-action-value\x3d"claps"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalClaps"\x3e\x3c/div\x3e\x3cdiv\x3eClaps '+z.y(d)+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e":
"")+'\x3c/ul\x3e\x3cdiv class\x3d"bargraph"\x3e\x3c/div\x3e\x3cdiv class\x3d"chartPage"\x3e';d=a.postStats&&0==a.postStats.length;d=z.y(z.mm({action:"show-graph-previous",ca:!0,l:"js-showPreviousButton",text:(0,z.L)("Prev 30 days"),icon:(0,z.L)(""+z.y(z.Cl(null))),isDisabled:d},c))+'\x3cspan class\x3d"chartPage-verticalDivider"\x3e\x3c/span\x3e'+z.y(z.mm({action:"show-graph-next",ca:!0,l:"js-showNextButton",text:(0,z.L)("Next 30 days"),icon:(0,z.L)(""+z.y(z.El(null))),isDisabled:d,$d:!0},c))+"\x3c/div\x3e";
var e;e=z.w;var g=(0,z.L)("Stories"),k;k=(0,z.Zj)(z.D(z.kk(c,"USER_STATS",null,null,a.username)));g=""+z.y(z.$O({s:g,href:(0,z.K)(""+z.D(k)),isActive:"stories"==a.activeTab||!a.activeTab,l:"u-fontSize16"},c));k=(0,z.L)("Responses");var l;l=(0,z.Zj)(z.D(z.kk(c,"USER_STATS_RESPONSES",null,null,a.username)));g+=z.y(z.$O({s:k,href:(0,z.K)(""+z.D(l)),isActive:"responses"==a.activeTab,l:"u-fontSize16"},c));k=(0,z.L)("Series");l=(0,z.Zj)(z.D(z.kk(c,"USER_STATS_SERIES",null,null,a.username)));e=e(z.y(z.aP({pe:!0,
pC:!0,Hj:(0,z.L)(g+z.y(z.$O({s:k,href:(0,z.K)(""+z.D(l)),isActive:"series"==a.activeTab,l:"u-fontSize16"},c)))})));b+=d+e}a=(0,z.w)(a.postStats&&0==a.postStats.length?'\x3ch1 class\x3d"stats stats--noPosts"\x3e'+("responses"==a.activeTab?"There are no published responses for which you can view stats.":"There are no published stories for which you can view stats.")+"\x3c/h1\x3e":a.postStats?'\x3ctable class\x3d"sortableTable js-statsTable"\x3e\x3cthead class\x3d"sortableTableHeaders"\x3e\x3ctr\x3e'+
V7({name:(0,z.L)("Date"),gv:"date",iDa:!0},c)+(a.rr[c.j.Kl.hL]?V7({name:(0,z.L)("Views"),gv:"views",l:(null==a.postStats?0:null==a.postStats[0]?0:a.postStats[0].isSeries)?"u-invisible":""},c):"")+(a.rr[c.j.Kl.KK]?V7({name:(0,z.L)("Reads"),gv:"reads"},c):"")+(a.rr[c.j.Kl.j6]?V7({name:(0,z.L)("Read ratio"),gv:"readRatio"},c):"")+(a.rr[c.j.Kl.m6]?V7({name:(0,z.L)("Fans"),gv:"recommends"},c):"")+(a.rr[c.j.Kl.y6]?V7({name:(0,z.L)("Subscribers"),gv:"updateNotificationSubscribers"},c):"")+(a.rr[c.j.Kl.YJ]?
V7({name:(0,z.L)("Claps"),gv:"claps"},c):"")+'\x3c/tr\x3e\x3c/thead\x3e\x3ctbody class\x3d"js-statsTableBody"\x3e'+q4a(a,0,c)+"\x3c/tbody\x3e\x3c/table\x3e":"");return(0,z.w)(b+('\x3cdiv class\x3d"sortableTableWrapper"\x3e'+a+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"))},s4a=function(a){return(0,z.w)(z.y(z.kf(Number(a.number))))},V7=function(a,b){var c="sortableTable-header"+(a.iDa?" is-sorted":"")+(a.mi?" sortableTable-header--withTooltip":"")+(a.l?" "+a.l:""),c=z.Me(c);b='\x3cth class\x3d"'+z.C(c)+
'"\x3e'+z.y(z.km({ca:!0,s:a.name,action:"sort-table",actionValue:a.gv,qAa:(0,z.L)("Sort by"),l:"js-"+a.gv},b));c={};c=(0,z.w)(z.zl(z.B({name:"sortAscending",size:"19px",content:(0,z.L)('\x3csvg class\x3d"svgIcon-use" width\x3d"19" height\x3d"19" \x3e\x3cpath d\x3d"M5.4 11L4 9.667l5.517-6.11L15 9.597 13.6 11 9.5 6.8 5.4 11z"/\x3e\x3cpath d\x3d"M8.5 15.4h2v-9h-2z" fill-rule\x3d"evenodd"/\x3e\x3c/svg\x3e')},c)));b+=z.y(c);c={};c=(0,z.w)(z.zl(z.B({name:"sortDescending",size:"19px",content:(0,z.L)('\x3csvg class\x3d"svgIcon-use" width\x3d"19" height\x3d"19" \x3e\x3cpath d\x3d"M5.4 8.4L4 9.733l5.517 6.11L15 9.803 13.6 8.4l-4.1 4.2-4.1-4.2z"/\x3e\x3cpath d\x3d"M8.5 4h2v9h-2z" fill-rule\x3d"evenodd"/\x3e\x3c/svg\x3e')},
c)));a=""+(b+z.y(c)+(a.mi?'\x3cdiv class\x3d"sortableTable-tip" data-tooltip-position\x3d"bottom" data-tooltip\x3d"'+z.C(a.mi)+'"\x3eWhat’s this?\x3c/div\x3e':"")+"\x3c/th\x3e");return(0,z.w)(a)},q4a=function(a,b,c){var d="";b=a.postStats.length;for(var e=0;e<b;e++){var g=a.postStats[e],k=a.postStats[e-1]||a.mFa,k=!g.firstPublishedAtBucket||k&&g.firstPublishedAtBucket==k.firstPublishedAtBucket?"":'\x3ctr class\x3d"sortableTable-row sortableTable-row--dateBucket"\x3e\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+
z.y(g.firstPublishedAt)+"\x3c/span\x3e"+z.y(z.xO({title:(0,z.L)(""+z.y(g.firstPublishedAtBucket)),Vf:!0,Hh:!0},c))+"\x3c/td\x3e\x3c/tr\x3e",l=g,g=a.rr,p=c,q="",v=""+z.D(z.eR({post:l,source:(0,z.L)(""+z.y(z.Xj({name:p.j.Ob.Vja})))},p)),v=(0,z.K)(v),q=q+('\x3ctr class\x3d"sortableTable-row js-statsTableRow" data-action-value\x3d"'+z.C(l.postId)+'" data-timestamp\x3d"'+z.C(l.createdAt)+'" \x3e\x3ctd class\x3d"sortableTable-rowTitle"\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.y(l.firstPublishedAt)+
"\x3c/span\x3e"+(0,z.w)(l.primaryTopic?'\x3cdiv class\x3d"sortableTable-text u-textUppercase"\x3e'+z.y(l.primaryTopic.name)+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"sortableTable-title u-maxWidth450"\x3e\x3ca href\x3d"'+z.C(z.D(v))+'"\x3e'+z.y(l.title)+'\x3c/a\x3e\x3c/div\x3e\x3cspan class\x3d"sortableTable-text u-paddingTop10"\x3e');if(l.visibility==p.j.Jb.se)var q=q+('\x3cspan class\x3d"sortableTable-text--visibility"\x3e'+z.y(z.Ul({l:"u-verticalAlignMiddle u-marginTopNegative2"}))),x=""+z.y(z.Nm()),
x=(0,z.L)(x),q=q+('\x3cspan data-tooltip\x3d"'+z.C(x)+'" data-tooltip-position\x3d"bottom"\x3e Unlisted\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"middotDivider"\x3e\x3c/span\x3e');q+='\x3cspan class\x3d"u-xs-hide"\x3e'+(l.readingTime?z.y(z.Fn({readingTime:l.readingTime}))+'\x3cspan class\x3d"middotDivider"\x3e\x3c/span\x3e':"")+(l.collection&&l.collection.name?"\x3cem\x3eIn \x3c/em\x3e"+z.y(z.N({href:z.kk(p,"COLLECTION_HOME",null,l.collection),s:(0,z.L)(""+z.y(l.collection.name)),l:"sortableTable-link"},
p))+'\x3cspan class\x3d"middotDivider"\x3e\x3c/span\x3e':"")+"\x3c/span\x3e";x=""+z.D(z.ak({post:l,collection:l.collection},0,p));x=(0,z.K)(x);q+=z.y(z.N({href:x,s:(0,z.L)(""+(l.isSeries?"View series":"View story")),l:"sortableTable-link"},p))+'\x3cspan class\x3d"middotDivider"\x3e\x3c/span\x3e'+z.y(z.N({href:v,s:(0,z.L)("Details"),l:"sortableTable-link"},p))+"\x3c/span\x3e\x3c/td\x3e";v=l.views?l.views:0;x=l.reads?l.reads:0;q+=(g[p.j.Kl.hL]?"\x3ctd\x3e"+(l.isSeries?"":'\x3cspan class\x3d"sortableTable-value"\x3e'+
z.y(v)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+z.C(z.kf(Number(v)))+'"\x3e'+z.y(z.mf(Number(v)))+(l.syndicatedViews&&l.syndicatedViews>=.1*v?'\x3cspan data-action\x3d"show-syndicated-views-popover" data-action-type\x3d"hover" class\x3d"sortableTable-extraNumber" title\x3d"'+z.C(z.kf(Number(l.syndicatedViews)))+'"\x3e'+z.y(z.mf(Number(l.syndicatedViews)))+"\x3c/span\x3e":"")+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e'+(1==v?"view":"views")+"\x3c/span\x3e\x3c/span\x3e")+
"\x3c/td\x3e":"")+(g[p.j.Kl.KK]?'\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.y(x)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+z.C(z.kf(Number(x)))+'"\x3e'+z.y(z.mf(Number(x)))+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e'+(1==x?"read":"reads")+"\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e":"")+(g[p.j.Kl.j6]?'\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+(0==v?"0":z.y(100*x/v))+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number"\x3e'+(0==v?"0":z.y(Math.round(100*
x/v))+"%")+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3eratio\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e':"");v=l.upvotes?l.upvotes:0;q+=g[p.j.Kl.m6]?'\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.y(v)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+z.C(z.kf(Number(v)))+'"\x3e'+z.y(z.mf(Number(v)))+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e'+(1==v?"fan":"fans")+"\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e":"";v=l.updateNotificationSubscribers?l.updateNotificationSubscribers:0;q+=
g[p.j.Kl.y6]?'\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.y(v)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+z.C(z.kf(Number(v)))+'"\x3e'+z.y(v)+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e'+(1==v?"subscriber":"subscribers")+"\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e":"";l=l.claps?l.claps:0;q+=(g[p.j.Kl.YJ]?'\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.y(l)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+z.C(z.kf(Number(l)))+'"\x3e'+z.y(l)+
'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e'+(1==l?"clap":"claps")+"\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e":"")+"\x3c/tr\x3e";g=(0,z.w)(q);d+=k+g}return(0,z.w)(d)},t4a=function(){return(0,z.w)('\x3cdiv class\x3d"popover-description"\x3eAdditional views from RSS readers, Facebook Instant Articles, and AMP. These views do not factor into read ratio.\x3c/div\x3e')},W7=function(a){this.wE=a;this.Yqa={top:5,right:0,bottom:23,left:52};this.ora={top:5,right:0,bottom:0,left:0};this.O9=5;this.Xi=null;this.lU=
[];this.gp=this.Bo=0;var b=Z.time.format("%B %e");this.V7=function(a){return b(a).replace(/\s+/," ")};this.nV=function(a){var b=a.value,e=a.label;a=this.V7(new Date(a.time));return(0,z.w)(z.y(z.kf(Number(b)))+" "+z.y(e)+" on "+z.y(a))}.bind(this)},u4a=function(a,b){a.Xi=a.wE.offsetHeight;var c=80<a.Xi,d=c?a.Yqa:a.ora;a.Xi=a.Xi-d.top-d.bottom;a.lU=b;a.gp=a.wE.offsetWidth-d.left;a.Bo=a.gp/30-3;a.Wt=Z.time.scale().range([a.Bo/2,a.gp-a.Bo/2]);a.Ag=Z.scale.Op().range([a.Xi,0]);a.Oba=Z.svg.axis().scale(a.Wt).QQ("bottom").mh(3).Ds(a.V7);
a.WZ=Z.svg.axis().scale(a.Ag).QQ("left").mh(5).Ds(z.mf);a.Qt=Z.select(a.wE).append("svg").Ca("width",a.gp+d.left+d.right).Ca("height",a.Xi+d.top+d.bottom);a.Qt=a.Qt.append("g").Ca("transform","translate("+d.left+","+d.top+")");a.Wt.domain(Z.rP(b,function(a){return a.time}));a.Ag.domain([0,Z.max(b,function(a){return a.value})]);c?(a.Qt.append("g").Ca("class","bargraph-xAxis").Ca("transform","translate(0,"+a.Xi+")").call(a.Oba),a.Qt.append("g").Ca("class","bargraph-yAxis").call(a.WZ)):a.Qt.append("g").Ca("class",
"bargraph-yAxis").Ca("transform","translate("+a.gp+", 0)").call(a.WZ);a.Qt.append("g").Ca("class","bargraph-gridLines").ag("line").data(a.Ag.mh(5)).Zj().append("line").Ca("class","bargraph-gridLine").Ca("x1",0).Ca("x2",a.gp).Ca("y1",a.Ag).Ca("y2",a.Ag);a.Qt.append("g").ag("rect").data(b).Zj().append("rect").Ca("class","bargraph-bar").Ca("x",function(a){return this.Wt(a.time)-this.Bo/2}.bind(a)).Ca("width",a.Bo).Ca("y",function(a){return this.Ag(a.value)}.bind(a)).Ca("height",function(a){return this.Xi-
this.Ag(a.value)}.bind(a)).Ca("data-tooltip",a.nV)},X7=function(a,b,c){z.FA.call(this,a,b,c);this.Za="all";this.Ww="views ttr reads fans subscribers claps".split(" ");this.T7=this.Ww[0];this.Xw={};this.gO={};this.wn=P7(Date.now()-25056E5);this.Zm=Date.now();this.kb=a.get("dom-monitor");this.qa=a.get("popover")},v4a=function(a){z.u(z.t(z.t(z.GA(a,"request").get(a.c0()),a.gca,a),a.Fya,a),function(a){z.nw(a)})},w4a=function(a){Y7(a,".js-totalViews",a.Xw.views);Y7(a,".js-totalFans",a.Xw.fans);Y7(a,".js-totalMinRead",
a.Xw.mins);Y7(a,".js-totalReads",a.Xw.reads);Y7(a,".js-totalSubscribers",a.Xw.subscribers);Y7(a,".js-totalClaps",a.Xw.claps)},Y7=function(a,b,c){(a=a.query(b))&&z.Pu(a,s4a,{number:Number(c)})},x4a=function(a){a.query(".js-showPreviousButton").disabled="all"!==a.Za&&a.wn<a.AWa;a.query(".js-showNextButton").disabled=a.Zm>P7()},Z7=function(a,b,c){z.O.call(this);this.X=a;this.ha=a.get("butter-bar");this.Zi=b;this.hna=c;this.ct=this.ud=null;this.eO=y4a;this.OA=!1},B4a=function(a,b){a.eO==b.value?a.OA=
!a.OA:(a.eO=b.value,a.OA=!1);var c=z4a(a,a.eO);if(-1!=c){a.query(".is-sorted")?z.qc(a.query(".is-sorted"),"is-sorted"):z.qc(a.query(".is-reverseSorted"),"is-reverseSorted");b=a.Ya(".sortableTableHeaders th")[c];a.OA?z.nc(b,"is-reverseSorted"):z.nc(b,"is-sorted");var d=a.U();z.tc(d,"is-hidingBuckets",!(a.eO==A4a&&!a.OA));var e=function(b,c){var d=a.OA?-1:1;c=c[0];b=a4a(b[0]);c=a4a(c);return d*((0,window.parseFloat)(c)-(0,window.parseFloat)(b))};(0,z.db)(d.tBodies,function(b){var k=(0,z.qb)(b.rows,
function(a,b){return[a.cells[c]?z.WR(a.cells[c].querySelector(".sortableTable-value")):"0",b,a]});z.ab(k,e.bind(a));var l=b.nextSibling;d.removeChild(b);(0,z.db)(k,function(a){b.appendChild(a[2])});d.insertBefore(b,l)})}},z4a=function(a,b){a=a.Ya(".sortableTableHeaders th");var c=-1;(0,z.qb)(a,function(a,e){a.querySelector("button")&&a.querySelector("button").getAttribute("data-action-value")==b&&(c=e)});return c},$7=function(a,b,c){X7.call(this,a,b,c);this.V=a.get("route-builder");this.eh=b.username?
z.RR(b.username):z.Nu().vm();this.Cw=null;this.Qa=a.get("screen-request");a=a.get("routeManager").Ef(b.path);a=this.bZ=a==z.Rza||a==z.Ct?"response":a==z.Sza||a==z.Dt?"series":"not-response";this.ie="not-response"==a?"stories":"response"==a?"responses":"series"==a?"series":"stories"},a8=function(a){z.O.call(this);this.Ga(a);this.QV=null;this.MV=!1;this.NV=this.Cna=null},b8=function(a){z.H.call(this);this.C(a)},C4a=function(a){return z.Of.rb(b8,a)},c8=function(a){z.H.call(this);this.C(a)},D4a=function(a){return z.Of.rb(c8,
a)},d8=function(a){z.O.call(this);this.Ga(a);this.Td=this.XG=this.fF=this.SO=null},e8=function(a,b,c){d8.call(this,b);this.Z=a.get("request");this.V=a.get("route-builder");this.Ph=c},f8=function(a,b,c){d8.call(this,b);this.Z=a.get("request");this.V=a.get("route-builder");this.Ph=c},g8=function(a,b,c){d8.call(this,b);this.Z=a.get("request");this.V=a.get("route-builder");this.Ph=c},E4a=function(a,b,c){var d=z.eb(c,function(a){return String(a.timeWindowStart)});return Q7(a-864E5,b-864E5).map(function(a){var b=
String(36E5*Math.floor(a/36E5)+864E5);return{value:d[b]?d[b].dailyUniqueVisitors:0,time:a}})},h8=function(a,b,c){z.FA.call(this,a,b,c);this.xa=a.get("app");this.Wa=null;this.Pb=b.collectionSlug;this.Ba=a.get("model-request");this.O$=null;this.V=a.get("route-builder");this.Kba=this.Hba=null},i8=function(a,b,c){X7.call(this,a,b,c);this.xa=a.get("app");this.Wa=null;this.je=z.Ji();this.eh=this.je.username;this.Pb=b.collectionSlug;this.Ba=a.get("model-request");this.Z=a.get("request");this.V=a.get("route-builder");
this.Qa=a.get("screen-request");this.A7=this.Cw=null;this.Yaa=U3a()};z.r(H7,z.Jf);H7.prototype.F=function(){return""};H7.prototype.H=function(){return""};H7.prototype.J=function(){return H7.prototype};H7.prototype.D={name:"PostStatsListResponse",L:!1,fields:{postStats:{name:"postStats",g:function(){return z.fM},aa:z.R,h:1},paging:{name:"paging",g:function(){return z.Jh},h:2}},N:{}};z.m(I7,H7);I7.prototype.C=function(){this.FC=null;H7.prototype.C.call(this)};z.r(J7,z.NC);
J7.prototype.Xr=function(a){var b=this.Ba;a.postStats=a.postStats||a.value&&a.value.postStats||a.value;a=b.mc(I7,a);return{response:a,items:a.postStats}};z.r(K7,z.Jf);K7.prototype.F=function(){return""};K7.prototype.H=function(){return""};K7.prototype.J=function(){return K7.prototype};K7.prototype.D={name:"UserStatsPageResponse",$r:"postStats",L:!1,fields:{postStats:{name:"postStats",g:function(){return z.fM},aa:z.R,h:1},paging:{name:"paging",g:function(){return z.Jh},h:2}},N:{}};z.r(L7,z.Jf);
z.f=L7.prototype;z.f.F=function(){return""};z.f.H=function(){return""};z.f.Mb=function(){return z.F(this,"collection")};z.f.J=function(){return L7.prototype};z.f.D={name:"CollectionStatsPageResponse",L:!1,fields:{collection:{name:"collection",g:function(){return z.kh},h:1},postStats:{name:"postStats",g:function(){return z.fM},aa:z.R,h:2},paging:{name:"paging",g:function(){return z.Jh},h:3},updatedAt:{name:"updatedAt",g:z.V,h:4}},N:{}};z.m(M7,K7);M7.prototype.C=function(){this.FC=null;K7.prototype.C.call(this)};
z.m(N7,L7);N7.prototype.C=function(){this.FC=null;L7.prototype.C.call(this)};z.r(O7,z.Jf);z.f=O7.prototype;z.f.F=function(){return""};z.f.H=function(){return""};z.f.Mb=function(){return z.F(this,"collection")};z.f.J=function(){return O7.prototype};z.f.D={name:"CollectionStatsResponse",L:!1,fields:{collection:{name:"collection",g:function(){return z.kh},h:1},updatedAt:{name:"updatedAt",g:z.V,h:2}},N:{}};z.MF.prototype.xha=z.Y(608,function(){this.iO=!0;return this});
z.WC.prototype.z8=z.Y(594,function(a,b,c){this.la.nc(c);a=this.V.R(z.Bt,{username:a},{filter:b});a=S3a(this,a);z.OC(a,c.postStats,c.paging);c.FC=a;return c});z.WC.prototype.WB=z.Y(593,function(a,b,c){c?z.ec(this.Ba.l2(c)):T3a(this.Ba,a,b);return z.t(T3a(this.Ba,a,b),this.z8.bind(this,a,b))});z.iD.prototype.WB=z.Y(592,function(a,b,c){var d=this.V.R(z.Bt,{username:a},{filter:b});return z.jD(this,d,function(){return this.sb.WB(a,b,c)})});
z.WC.prototype.m8=z.Y(591,function(a,b){this.la.nc(b);a=this.V.R(z.ru,{collectionSlug:a});a=S3a(this,a);z.OC(a,b.postStats,b.paging);b.FC=a;return b});z.WC.prototype.DB=z.Y(590,function(a,b){b?b=z.ec(this.Ba.e2(b)):(b=this.Ba,b=z.t(z.nD(b.Z,z.ru,{collectionSlug:a}),b.e2,b));return z.t(b,this.m8.bind(this,a))});z.iD.prototype.DB=z.Y(589,function(a,b){var c=this.V.R(z.ru,{collectionSlug:a});return z.jD(this,c,function(){return this.sb.DB(a,b)})});
z.uB.prototype.$I=z.Y(581,function(a){return z.zpa(this,!1,a,function(a){return!this.yL[a]})});z.Rw.prototype.l2=z.Y(539,function(a){a.postStats=a.value||a.postStats;return this.mc(M7,a)});z.Rw.prototype.e2=z.Y(538,function(a){a.postStats=a.value||a.postStats;return this.mc(N7,a)});z.Rw.prototype.d2=z.Y(537,function(a){return this.mc(O7,a)});z.rp.prototype.Yj=z.Y(414,function(a){return Math.sqrt(z.YHa(this,a))});
z.sd.prototype.Qha=z.Y(4,function(){for(var a=new z.sd,b=0;b<this.Qe.length;b++){var c=this.Qe[b];a.set(this.Gm[c],c)}return a});var V3a=/^([-]?\d+\.?\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/;z.r(R7,z.H);z.f=R7.prototype;z.f.F=function(){return""};z.f.H=function(){return""};z.f.ya=function(){return z.F(this,"postId")};z.f.vb=function(a){return z.G(this,"postId",a)};z.f.J=function(){return R7.prototype};
z.f.D={name:"HourlyPostStat",L:!1,fields:{postId:{name:"postId",g:z.U,h:1},acceptedAt:{name:"acceptedAt",g:z.V,h:2},collectedAt:{name:"collectedAt",g:z.V,h:3},flaggedSpam:{name:"flaggedSpam",g:z.V,h:4},followUpsCreated:{name:"followUpsCreated",isRemoved:z.R},loggedInReads:{name:"loggedInReads",isRemoved:z.R},loggedInReadsUnique:{name:"loggedInReadsUnique",isRemoved:z.R},loggedInViews:{name:"loggedInViews",isRemoved:z.R},loggedOutReads:{name:"loggedOutReads",isRemoved:z.R},loggedOutViews:{name:"loggedOutViews",
isRemoved:z.R},magnitude:{name:"magnitude",isRemoved:z.R},notesCreated:{name:"notesCreated",g:z.V,h:12},unflaggedSpam:{name:"unflaggedSpam",g:z.V,h:13},unvotes:{name:"unvotes",g:z.V,h:14},upvotes:{name:"upvotes",g:z.V,h:15},ttrMs:{name:"ttrMs",g:z.V,h:16},reads:{name:"reads",g:z.V,h:17},views:{name:"views",g:z.V,h:18},claps:{name:"claps",g:z.V,h:19},updateNotificationSubscribers:{name:"updateNotificationSubscribers",g:z.V,h:20},updateNotificationUnsubscribers:{name:"updateNotificationUnsubscribers",
g:z.V,h:21},internalReferrerViews:{name:"internalReferrerViews",g:z.V,h:22},friendsLinkViews:{name:"friendsLinkViews",g:z.V,h:23}},N:{}};z.r(S7,z.H);z.f=S7.prototype;z.f.F=function(){return""};z.f.H=function(){return""};z.f.Xa=function(){return z.F(this,"userId")};z.f.hc=function(a){return z.G(this,"userId",a)};z.f.J=function(){return S7.prototype};
z.f.D={name:"HourlyUserStat",L:!1,fields:{userId:{name:"userId",g:z.U,h:1},flaggedSpam:{name:"flaggedSpam",g:z.V,h:2},followUpsCreated:{name:"followUpsCreated",isRemoved:z.R},loggedInReads:{name:"loggedInReads",isRemoved:z.R},loggedInReadsUnique:{name:"loggedInReadsUnique",isRemoved:z.R},loggedInViews:{name:"loggedInViews",isRemoved:z.R},loggedOutReads:{name:"loggedOutReads",isRemoved:z.R},loggedOutViews:{name:"loggedOutViews",isRemoved:z.R},notesCreated:{name:"notesCreated",g:z.V,h:9},timestampMs:{name:"timestampMs",
g:z.V,h:10},unflaggedSpam:{name:"unflaggedSpam",g:z.V,h:11},unvotes:{name:"unvotes",g:z.V,h:12},upvotes:{name:"upvotes",g:z.V,h:13},ttrMs:{name:"ttrMs",g:z.V,h:14},reads:{name:"reads",g:z.V,h:15},views:{name:"views",g:z.V,h:16},claps:{name:"claps",g:z.V,h:17},updateNotificationSubscribers:{name:"updateNotificationSubscribers",g:z.V,h:18},updateNotificationUnsubscribers:{name:"updateNotificationUnsubscribers",g:z.V,h:19}},N:{}};
var $3a={"":1,n:1E-9,u:1E-6,m:.001,k:1E3,K:1E3,M:1E6,G:1E9,T:1E12,P:1E15},Z={};
(function(){function a(a,b){return LP.call(a,b)}function b(a,b){return b.querySelectorAll(a)}function c(a,b){return b.querySelector(a)}function d(){return bb}function e(a){return Array.prototype.slice.call(a)}function g(a){for(var b=-1,c=a.length,d=[];++b<c;)d.push(a[b]);return d}function k(){}function l(a){return a}function p(){return this}function q(){return!0}function v(a){return"function"===typeof a?a:function(){return a}}function x(a,b,c){return function(){var d=c.apply(b,arguments);return arguments.length?
a:d}}function J(a){return null!=a&&!(0,window.isNaN)(a)}function M(a){return a.length}function P(a){return null==a}function S(){}function T(a){function b(){for(var d=c,e=-1,g=d.length,k;++e<g;)(k=d[e].O)&&k.apply(this,arguments);return a}var c=[],d=new k;b.O=function(b,e){var g=d.get(b),k;if(2>arguments.length)return g&&g.O;g&&(g.O=null,c=c.slice(0,k=c.indexOf(g)).concat(c.slice(k+1)),d.remove(b));e&&c.push(d.set(b,{O:e}));return a};return b}function W(a,b){return b-(a?1+Math.floor(Math.log(a+Math.pow(10,
1+Math.floor(Math.log(a)/Math.LN10)-b))/Math.LN10):1)}function da(a){return a+""}function Ga(a){for(var b=a.lastIndexOf("."),c=0<=b?a.substring(b):(b=a.length,""),d=[];0<b;)d.push(a.substring(b-=3,b+3));return d.reverse().join(",")+c}function ya(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function lb(a){return function(b){return 1-a(1-b)}}function dc(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function bb(a){return a}function he(a){return function(b){return Math.pow(b,a)}}function Hb(a){return 1-
Math.cos(a*Math.PI/2)}function Cc(a){return Math.pow(2,10*(a-1))}function ie(a){return 1-Math.sqrt(1-a*a)}function vc(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Ob(){Z.event.stopPropagation();Z.event.preventDefault()}function Ie(){for(var a=Z.event,b;b=a.pGa;)a=b;return a}function Pf(a){for(var b=new S,c=0,d=arguments.length;++c<d;)b[arguments[c]]=T(b);b.of=function(c,d){return function(e){try{var g=
e.pGa=Z.event;e.target=a;Z.event=e;b[e.type].apply(c,d)}finally{Z.event=g}}};return b}function we(a){var b=[a.a,a.b],c=[a.c,a.d],d=Jg(b),e=b[0]*c[0]+b[1]*c[1],g=-e;c[0]+=g*b[0];c[1]+=g*b[1];g=Jg(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Yz;this.translate=[a.e,a.f];this.scale=[d,g];this.L3=g?Math.atan2(e,g)*Yz:0}function Jg(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function mg(a){return"transform"==
a?Z.oCa:Z.Gu}function Je(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return(c-a)*b}}function Ad(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function Pe(){}function Va(a,b,c){return new Oc(a,b,c)}function Oc(a,b,c){this.r=a;this.Gn=b;this.b=c}function Rb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function yh(a,b,c){var d=0,e=0,g=0,k,l;if(k=/([a-z]+)\((.*)\)/i.exec(a))switch(l=k[2].split(","),k[1]){case "hsl":return c((0,window.parseFloat)(l[0]),
(0,window.parseFloat)(l[1])/100,(0,window.parseFloat)(l[2])/100);case "rgb":return b(ej(l[0]),ej(l[1]),ej(l[2]))}if(c=$z.get(a))return b(c.r,c.Gn,c.b);null!=a&&"#"===a.charAt(0)&&(4===a.length?(d=a.charAt(1),d+=d,e=a.charAt(2),e+=e,g=a.charAt(3),g+=g):7===a.length&&(d=a.substring(1,3),e=a.substring(3,5),g=a.substring(5,7)),d=(0,window.parseInt)(d,16),e=(0,window.parseInt)(e,16),g=(0,window.parseInt)(g,16));return b(d,e,g)}function hi(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),g=
e-d,k=(e+d)/2;g?(d=.5>k?g/(e+d):g/(2-e-d),a=60*(a==e?(b-c)/g+(b<c?6:0):b==e?(c-a)/g+2:(a-b)/g+4)):d=a=0;return Sg(a,d,k)}function sg(a,b,c){a=Kc(a);b=Kc(b);c=Kc(c);var d=gj((.2126729*a+.7151522*b+.072175*c)/QG);return new ze(116*d-16,500*(gj((.4124564*a+.3575761*b+.1804375*c)/JP)-d),200*(d-gj((.0193339*a+.119192*b+.9503041*c)/KP)))}function Kc(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ej(a){var b=(0,window.parseFloat)(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*
b):b}function Sg(a,b,c){return new ic(a,b,c)}function ic(a,b,c){this.gk=a;this.zy=b;this.Vc=c}function gf(a,b,c){function d(a){360<a?a-=360:0>a&&(a+=360);return 60>a?e+(g-e)*a/60:180>a?g:240>a?e+(g-e)*(240-a)/60:e}var e,g;a%=360;0>a&&(a+=360);b=0>b?0:1<b?1:b;c=0>c?0:1<c?1:c;g=.5>=c?c*(1+b):c+b-c*b;e=2*c-g;return Va(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function Qe(a,b,c){this.gk=a;this.c=b;this.Vc=c}function jc(a,b,c){var d=Math.cos(a*=Math.PI/180)*b;return new ze(c,
d,Math.sin(a)*b)}function ze(a,b,c){this.Vc=a;this.a=b;this.b=c}function Zk(a,b,c){a=(a+16)/116;c=a-c/200;b=rc(a+b/500)*JP;a=rc(a)*QG;c=rc(c)*KP;return Va(Df(3.2404542*b-1.5371385*a-.4985314*c),Df(-.969266*b+1.8760108*a+.041556*c),Df(.0556434*b-.2040259*a+1.0572252*c))}function fj(a,b,c){return new Qe(Math.atan2(c,b)/Math.PI*180,Math.sqrt(b*b+c*c),a)}function rc(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function gj(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Df(a){return Math.round(255*
(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ae(a){OG(a,Pc);return a}function Uf(a){return function(){return c(a,this)}}function Tg(a){return function(){return b(a,this)}}function bk(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.aq,a.local)}function e(){this.setAttribute(a,b)}function g(){this.setAttributeNS(a.aq,a.local,b)}function k(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function l(){var c=b.apply(this,
arguments);null==c?this.removeAttributeNS(a.aq,a.local):this.setAttributeNS(a.aq,a.local,c)}a=Z.AC.XI(a);return null==b?a.local?d:c:"function"===typeof b?a.local?l:k:a.local?g:e}function Xb(a){return new RegExp("(?:^|\\s+)"+Z.Hga(a)+"(?:\\s+|$)","g")}function ii(a,b){function c(){for(var d=-1;++d<e;)a[d](this,b)}function d(){for(var c=-1,g=b.apply(this,arguments);++c<e;)a[c](this,g)}a=a.trim().split(/\s+/).map(ck);var e=a.length;return"function"===typeof b?d:c}function ck(a){var b=Xb(a);return function(c,
d){var e;if(e=c.classList)return d?e.add(a):e.remove(a);e=c.className;var g=null!=e.baseVal,k=g?e.baseVal:e;d?(b.lastIndex=0,b.test(k)||(k=(k+" "+a).trim().replace(/\s+/g," "),g?e.baseVal=k:c.className=k)):k&&(k=k.replace(b," ").trim().replace(/\s+/g," "),g?e.baseVal=k:c.className=k)}}function Bd(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function g(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==
b?d:"function"===typeof b?g:e}function dk(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"===typeof b?e:d}function Ef(b){return function(){return a(this,b)}}function hj(a){arguments.length||(a=Z.mH);return function(b,c){return a(b&&b.__data__,c&&c.__data__)}}function Vf(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.r4),delete this[g])}function e(){function k(a){var c=
Z.event;Z.event=a;p[0]=l.__data__;try{b.apply(l,p)}finally{Z.event=c}}var l=this,p=arguments;d.call(this);this.addEventListener(a,this[g]=k,k.r4=c);k.$e=b}var g="__on"+a,k=a.indexOf(".");0<k&&(a=a.substring(0,k));return b?e:d}function Cd(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],g=0,k=e.length,l;g<k;g++)(l=e[g])&&b(l,g,c);return a}function hf(a){OG(a,rl);return a}function ek(a,b,c){OG(a,yg);var d=new k,e=Z.Tca("start","end"),g=bA;a.id=b;a.time=c;a.kv=function(b,c){if(2>arguments.length)return d.get(b);
null==c?d.remove(b):d.set(b,c);return a};a.rp=function(b){if(!arguments.length)return g;g="function"===typeof b?b:Z.rp.apply(Z,arguments);return a};a.Bg=function(b,c){if(2>arguments.length)return ij.call(a,b);e.O(b,c);return a};Z.CJ(function(k){return Cd(a,function(a,l){function p(g){if(M.active>b)return q();M.active=b;d.forEach(function(b,c){(c=c.call(a,P,l))&&v.push(c)});e.start.call(a,P,l);Ra(g)||Z.CJ(Ra,0,c);return 1}function Ra(c){if(M.active!==b)return q();c=(c-x)/J;for(var d=g(c),k=v.length;0<
k;)v[--k].call(a,d);if(1<=c)return q(),sl=b,e.end.call(a,P,l),sl=0,1}function q(){--M.count||delete a.xT;return 1}var v=[],x=a.fh,J=a.duration,M=(a=a.node).xT||(a.xT={active:0,count:0}),P=a.__data__;++M.count;x<=k?p(k):Z.CJ(p,x,c)})},0,c);return a}function ij(a){var b=sl,c=bA,d=iq,e=Zu;sl=this.id;bA=this.rp();Cd(this,function(b,c,d){iq=b.fh;Zu=b.duration;a.call(b=b.node,b.__data__,c,d)});sl=b;bA=c;iq=d;Zu=e;return this}function dm(a,b,c){return""!=c&&jq}function jj(){for(var a,b=Date.now(),c=tm;c;)a=
b-c.then,a>=c.fh&&(c.flush=c.callback(a)),c=c.next;a=Db()-b;24<a?((0,window.isFinite)(a)&&((0,window.clearTimeout)($u),$u=(0,window.setTimeout)(jj,a)),kq=0):(kq=1,MP(jj))}function Db(){for(var a=null,b=tm,c=window.Infinity;b;)b.flush?(delete cA[b.callback.id],b=a?a.next=b.next:tm=b.next):(c=Math.min(c,b.then+b.fh),b=(a=b).next);return c}function Wf(a,b){var c=a.c0a||a;if(c.kAa){var d=c.kAa();if(0>lq&&(window.scrollX||window.scrollY)){var c=Z.select(window.document.body).append("svg").style("position",
"absolute").style("top",0).style("left",0),e=c[0][0].dBa();lq=!(e.f||e.e);c.remove()}lq?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY);d=d.r_a(a.dBa().inverse());return[d.x,d.y]}c=a.getBoundingClientRect();return[b.clientX-c.left-a.clientLeft,b.clientY-c.top-a.clientTop]}function tg(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function Re(a){return a.Aga?a.Aga():tg(a.range())}function Lc(a,b){var c=0,d=a.length-1,e=a[c],g=a[d],k;g<e&&(k=c,c=d,d=k,k=e,e=g,g=k);if(b=b(g-e))a[c]=b.floor(e),
a[d]=b.ceil(g);return a}function $k(){return Math}function ji(a,b,c,d){function e(){var p=2<Math.min(a.length,b.length)?ki:lj,q=d?Ad:Je;k=p(a,b,q,c);l=p(b,a,q,Z.Gu);return g}function g(a){return k(a)}var k,l;g.Tf=function(a){return l(a)};g.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};g.range=function(a){if(!arguments.length)return b;b=a;return e()};g.D0a=function(a){return g.range(a).Gu(Z.mCa)};g.Bh=function(a){if(!arguments.length)return d;d=a;return e()};g.Gu=function(a){if(!arguments.length)return c;
c=a;return e()};g.mh=function(b){return kj(a,b)};g.Ds=function(b){return Ug(a,b)};g.P1=function(){Lc(a,fk);return e()};g.Ai=function(){return ji(a,b,c,d)};return e()}function em(a,b){return Z.Xu(a,b,"range","rangeRound","interpolate","clamp")}function fk(a){return(a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1))&&{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function zh(a,b){a=tg(a);var c=a[1]-a[0],d=Math.pow(10,Math.floor(Math.log(c/b)/Math.LN10));b=b/
c*d;.15>=b?d*=10:.35>=b?d*=5:.75>=b&&(d*=2);a[0]=Math.ceil(a[0]/d)*d;a[1]=Math.floor(a[1]/d)*d+.5*d;a[2]=d;return a}function kj(a,b){return Z.range.apply(Z,zh(a,b))}function Ug(a,b){return Z.format(",."+Math.max(0,-Math.floor(Math.log(zh(a,b)[2])/Math.LN10+.01))+"f")}function lj(a,b,c,d){var e=c(a[0],a[1]),g=d(b[0],b[1]);return function(a){return g(e(a))}}function ki(a,b,c,d){var e=[],g=[],k=0,l=Math.min(a.length,b.length)-1;a[l]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++k<=l;)e.push(c(a[k-
1],a[k])),g.push(d(b[k-1],b[k]));return function(b){var c=Z.bu(a,b,1,l)-1;return g[c](e[c](b))}}function li(a,b){function c(d){return a(b(d))}var d=b.pow;c.Tf=function(b){return d(a.Tf(b))};c.domain=function(e){if(!arguments.length)return a.domain().map(d);b=0>e[0]?mi:gk;d=b.pow;a.domain(e.map(b));return c};c.P1=function(){a.domain(Lc(a.domain(),$k));return c};c.mh=function(){var c=tg(a.domain()),e=[];if(c.every(window.isFinite)){var g=Math.floor(c[0]),k=Math.ceil(c[1]),l=d(c[0]),c=d(c[1]);if(b===
mi)for(e.push(d(g));g++<k;)for(var p=9;0<p;p--)e.push(d(g)*p);else{for(;g<k;g++)for(p=1;10>p;p++)e.push(d(g)*p);e.push(d(g))}for(g=0;e[g]<l;g++);for(k=e.length;e[k-1]>c;k--);e=e.slice(g,k)}return e};c.Ds=function(a,e){2>arguments.length&&(e=z2);if(1>arguments.length)return e;var g,k=Math.max(.1,a/c.mh().length),l=b===mi?(g=-1E-12,Math.floor):(g=1E-12,Math.ceil);return function(a){return a/d(l(b(a)+g))<=k?e(a):""}};c.Ai=function(){return li(a.Ai(),b)};return em(c,a)}function gk(a){return Math.log(0>
a?0:a)/Math.LN10}function mi(a){return-Math.log(0<a?0:-a)/Math.LN10}function mj(a,b){function c(b){return a(d(b))}var d=Dd(b),e=Dd(1/b);c.Tf=function(b){return e(a.Tf(b))};c.domain=function(b){if(!arguments.length)return a.domain().map(e);a.domain(b.map(d));return c};c.mh=function(a){return kj(c.domain(),a)};c.Ds=function(a){return Ug(c.domain(),a)};c.P1=function(){return c.domain(Lc(c.domain(),fk))};c.KAa=function(a){if(!arguments.length)return b;var g=c.domain();d=Dd(b=a);e=Dd(1/b);return c.domain(g)};
c.Ai=function(){return mj(a.Ai(),b)};return em(c,a)}function Dd(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Nd(a,b){function c(b){return g[((e.get(b)||e.set(b,a.push(b)))-1)%g.length]}function d(b,c){return Z.range(a.length).map(function(a){return b+c*a})}var e,g,l;c.domain=function(d){if(!arguments.length)return a;a=[];e=new k;for(var g=-1,l=d.length,p;++g<l;)e.has(p=d[g])||e.set(p,a.push(p));return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return g;
g=a;l=0;b={t:"range",a:arguments};return c};c.C0a=function(e,k){2>arguments.length&&(k=0);var p=e[0],q=e[1],v=(q-p)/(Math.max(1,a.length-1)+k);g=d(2>a.length?(p+q)/2:p+v*k/2,v);l=0;b={t:"rangePoints",a:arguments};return c};c.B0a=function(e,k,p){2>arguments.length&&(k=0);3>arguments.length&&(p=k);var q=e[1]<e[0],v=e[q-0],x=(e[1-q]-v)/(a.length-k+2*p);g=d(v+x*p,x);q&&g.reverse();l=x*(1-k);b={t:"rangeBands",a:arguments};return c};c.E0a=function(e,k,p){2>arguments.length&&(k=0);3>arguments.length&&(p=
k);var q=e[1]<e[0],v=e[q-0],x=e[1-q],cg=Math.floor((x-v)/(a.length-k+2*p));g=d(v+Math.round((x-v-(a.length-k)*cg)/2),cg);q&&g.reverse();l=Math.round(cg*(1-k));b={t:"rangeRoundBands",a:arguments};return c};c.wFa=function(){return l};c.Aga=function(){return tg(b.a[0])};c.Ai=function(){return Nd(a,b)};return c.domain(a)}function le(a,b){function c(){var g=0,k=b.length;for(e=[];++g<k;)e[g-1]=Z.y2(a,g/k);return d}function d(a){return(0,window.isNaN)(a=+a)?window.NaN:b[Z.bu(e,a)]}var e;d.domain=function(b){if(!arguments.length)return a;
a=b.filter(function(a){return!(0,window.isNaN)(a)}).sort(Z.mH);return c()};d.range=function(a){if(!arguments.length)return b;b=a;return c()};d.y0a=function(){return e};d.Ai=function(){return le(a,b)};return c()}function Xf(a,b,c){function d(b){return c[Math.max(0,Math.min(k,Math.floor(g*(b-a))))]}function e(){g=c.length/(b-a);k=c.length-1;return d}var g,k;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=
a;return e()};d.Ai=function(){return Xf(a,b,c)};return e()}function me(a,b){function c(d){return b[Z.bu(a,d)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.Ai=function(){return me(a,b)};return c}function ug(a){function b(a){return+a}b.Tf=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};b.mh=function(b){return kj(a,b)};b.Ds=function(b){return Ug(a,b)};b.Ai=function(){return ug(a)};
return b}function ni(a){return a.lea}function jd(a){return a.dga}function Vg(a){return a.Ly}function Ah(a){return a.Ax}function nj(a){function b(k){function p(){q.push("M",g(a(kd),l))}for(var q=[],kd=[],x=-1,ah=k.length,J,M=v(c),P=v(d);++x<ah;)e.call(this,J=k[x],x)?kd.push([+M.call(this,J,x),+P.call(this,J,x)]):kd.length&&(p(),kd=[]);kd.length&&p();return q.length?q.join(""):null}var c=hk,d=ik,e=q,g=be,k=g.key,l=.7;b.x=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return d;
d=a;return b};b.uAa=function(a){if(!arguments.length)return e;e=a;return b};b.Gu=function(a){if(!arguments.length)return k;k="function"===typeof a?g=a:(g=VG.get(a)||be).key;return b};b.AGa=function(a){if(!arguments.length)return l;l=a;return b};return b}function hk(a){return a[0]}function ik(a){return a[1]}function be(a){return a.join("L")}function Bh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Ch(a){for(var b=0,c=a.length,
d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function ne(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return be(a);var c=a.length!=b.length,d="",e=a[0],g=a[1],k=b[0],l=k,p=1;c&&(d+="Q"+(g[0]-2*k[0]/3)+","+(g[1]-2*k[1]/3)+","+g[0]+","+g[1],e=a[1],p=2);if(1<b.length)for(l=b[1],g=a[p],p++,d+="C"+(e[0]+k[0])+","+(e[1]+k[1])+","+(g[0]-l[0])+","+(g[1]-l[1])+","+g[0]+","+g[1],e=2;e<b.length;e++,p++)g=a[p],l=b[e],d+="S"+(g[0]-l[0])+","+(g[1]-l[1])+","+
g[0]+","+g[1];c&&(a=a[p],d+="Q"+(g[0]+2*l[0]/3)+","+(g[1]+2*l[1]/3)+","+a[0]+","+a[1]);return d}function Yf(a,b){var c=[];b=(1-b)/2;for(var d,e=a[0],g=a[1],k=1,l=a.length;++k<l;)d=e,e=g,g=a[k],c.push([b*(g[0]-d[0]),b*(g[1]-d[1])]);return c}function al(a){if(3>a.length)return be(a);var b=1,c=a.length,d=a[0],e=d[0],g=d[1],k=[e,e,e,(d=a[1])[0]],l=[g,g,g,d[1]],e=[e,",",g];for(oe(e,k,l);++b<c;)d=a[b],k.shift(),k.push(d[0]),l.shift(),l.push(d[1]),oe(e,k,l);for(b=-1;2>++b;)k.shift(),k.push(d[0]),l.shift(),
l.push(d[1]),oe(e,k,l);return e.join("")}function Ae(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function oe(a,b,c){a.push("C",Ae(WG,b),",",Ae(WG,c),",",Ae(mc,b),",",Ae(mc,c),",",Ae(Te,b),",",Ae(Te,c))}function oi(a,b){return(b[1]-a[1])/(b[0]-a[0])}function jf(a){for(var b,c=-1,d=a.length,e,g;++c<d;)b=a[c],e=b[0],g=b[1]+vj,b[0]=e*Math.cos(g),b[1]=e*Math.sin(g);return a}function oj(a){function b(p){function q(){kd.push("M",l(a(M),Qd),J,x(a(bo.reverse()),Qd),"Z")}for(var kd=[],bo=[],M=[],P=
-1,T=p.length,S,W=v(c),da=v(e),vi=c===d?function(){return qq}:v(d),K2=e===g?function(){return Ha}:v(g),qq,Ha;++P<T;)k.call(this,S=p[P],P)?(bo.push([qq=+W.call(this,S,P),Ha=+da.call(this,S,P)]),M.push([+vi.call(this,S,P),+K2.call(this,S,P)])):bo.length&&(q(),bo=[],M=[]);bo.length&&q();return kd.length?kd.join(""):null}var c=hk,d=hk,e=0,g=ik,k=q,l=be,p=l.key,x=l,J="L",Qd=.7;b.x=function(a){if(!arguments.length)return d;c=d=a;return b};b.jia=function(a){if(!arguments.length)return c;c=a;return b};b.kia=
function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return g;e=g=a;return b};b.q4=function(a){if(!arguments.length)return e;e=a;return b};b.lia=function(a){if(!arguments.length)return g;g=a;return b};b.uAa=function(a){if(!arguments.length)return k;k=a;return b};b.Gu=function(a){if(!arguments.length)return p;p="function"===typeof a?l=a:(l=VG.get(a)||be).key;x=l.reverse||l;J=l.closed?"M":"L";return b};b.AGa=function(a){if(!arguments.length)return Qd;Qd=a;return b};
return b}function ce(a){return a.source}function Wg(a){return a.target}function vg(a){return a.z2}function pi(a){return[a.x,a.y]}function bl(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]+vj;return[c*Math.cos(b),c*Math.sin(b)]}}function Hn(){return 64}function fm(){return"circle"}function In(a){a=Math.sqrt(a/Math.PI);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function gm(a,b){a.Ca("transform",function(a){return"translate("+b(a)+",0)"})}function Dh(a,b){a.Ca("transform",
function(a){return"translate(0,"+b(a)+")"})}function wg(a,b,c){var d=[];if(c&&1<b.length){a=tg(a.domain());for(var e=-1,g=b.length,k=(b[1]-b[0])/++c,l,p;++e<g;)for(l=c;0<--l;)(p=+b[e]-l*k)>=a[0]&&d.push(p);--e;for(l=0;++l<c&&(p=+b[e]+l*k)<a[1];)d.push(p)}return d}function Ip(){oq||(oq=Z.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var a=Z.event,b;try{oq.scrollTop=
1E3,oq.dispatchEvent(a),b=1E3-oq.scrollTop}catch(c){b=a.wheelDelta||5*-a.detail}return b}function rF(a){var b=a.source;a=a.target;var c;var d=a;if(b===d)c=b;else{c=jk(b);for(var d=jk(d),e=c.pop(),g=d.pop(),k=null;e===g;)k=e,e=c.pop(),g=d.pop();c=k}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function jk(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function Jn(a){a.fixed|=2}function wy(a){a.fixed&=1}function cl(a){a.fixed|=
4}function Kn(a){a.fixed&=3}function hm(a,b,c){var d=0,e=0;a.charge=0;if(!a.CI)for(var g=a.Tu,k=g.length,l=-1,p;++l<k;)p=g[l],null!=p&&(hm(p,b,c),a.charge+=p.charge,d+=p.charge*p.Ica,e+=p.charge*p.Jca);a.point&&(a.CI||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),b*=c[a.point.index],a.charge+=a.hFa=b,d+=b*a.point.x,e+=b*a.point.y);a.Ica=d/a.charge;a.Jca=e/a.charge}function sF(){return 20}function Jp(){return 1}function Be(a){return a.x}function Zf(a){return a.y}function dl(a,b,c){a.q4=
b;a.y=c}function pj(a){return Z.range(a.length)}function qi(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function el(a){for(var b=1,c=0,d=a[0][1],e,g=a.length;b<g;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function Kp(a){return a.reduce(xy,0)}function xy(a,b){return a+b[1]}function yy(a,b){return pt(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function pt(a,b){var c=-1,d=+a[0];a=(a[1]-d)/b;for(var e=[];++c<=b;)e[c]=a*c+d;return e}function Eh(a){return[Z.min(a),Z.max(a)]}function Fh(a,b){Z.Xu(a,
b,"sort","children","value");a.links=tF;a.Tu=function(b){Pd=!0;return(a.Tu=a)(b)};return a}function zy(a){return a.children}function Ay(a){return a.value}function By(a,b){return b.value-a.value}function tF(a){return Z.Ih(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function Cy(a,b){return a.value-b.value}function Se(a,b){var c=a.zt;a.zt=b;b.At=a;b.zt=c;c.At=b}function Lp(a,b){a.zt=b;b.At=a}function Dy(a,b){var c=b.x-a.x,d=b.y-a.y;a=a.r+b.r;return.001<a*a-
c*c-d*d}function Mp(a){function b(a){d=Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);g=Math.min(a.y-a.r,g);k=Math.max(a.y+a.r,k)}var c,d=window.Infinity,e=-window.Infinity,g=window.Infinity,k=-window.Infinity,l,p,q,v,x,J,M;if((c=a.children)&&(M=c.length)){c.forEach(Ey);l=c[0];l.x=-l.r;l.y=0;b(l);if(1<M&&(p=c[1],p.x=p.r,p.y=0,b(p),2<M))for(q=c[2],od(l,p,q),b(q),Se(l,q),l.At=q,Se(q,p),p=l.zt,v=3;v<M;v++){od(l,p,q=c[v]);var P=0,T=1,co=1;for(x=p.zt;x!==p;x=x.zt,T++)if(Dy(x,q)){P=1;break}if(1==P)for(J=l.At;J!==
x.At&&!Dy(J,q);J=J.At,co++);P?(T<co||T==co&&p.r<l.r?Lp(l,p=x):Lp(l=J,p),v--):(Se(l,q),p=q,b(q))}l=(d+e)/2;p=(g+k)/2;for(v=x=0;v<M;v++)q=c[v],q.x-=l,q.y-=p,x=Math.max(x,q.r+Math.sqrt(q.x*q.x+q.y*q.y));a.r=x;c.forEach(fl)}}function Ey(a){a.zt=a.At=a}function fl(a){delete a.zt;delete a.At}function Ln(a,b,c,d){var e=a.children;a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e){a=-1;for(var g=e.length;++a<g;)Ln(e[a],b,c,d)}}function od(a,b,c){var d=a.r+c.r,e=b.x-a.x,g=b.y-a.y;if(d&&(e||g)){var k=b.r+c.r,l=e*e+g*g,
k=k*k,d=d*d;b=.5+(d-k)/(2*l);k=Math.sqrt(Math.max(0,2*k*(d+l)-(d-=l)*d-k*k))/(2*l);c.x=a.x+b*e+k*g;c.y=a.y+b*g-k*e}else c.x=a.x+d,c.y=a.y}function Np(a){return 1+Z.max(a,function(a){return a.y})}function Fy(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function qj(a){var b=a.children;return b&&b.length?qj(b[0]):a}function gl(a){var b=a.children,c;return b&&(c=b.length)?gl(b[c-1]):a}function Mn(a,b){return a.parent==b.parent?1:2}function qt(a){var b=a.children;return b&&b.length?b[0]:
a.Bd.U3}function Gh(a){var b=a.children,c;return b&&(c=b.length)?b[c-1]:a.Bd.U3}function Nn(a,b){var c=a.children,d;if(c&&(d=c.length))for(var e,g=-1;++g<d;)0<b(e=Nn(c[g],b),a)&&(a=e);return a}function rt(a,b){return a.x-b.x}function Op(a,b){return b.x-a.x}function im(a,b){return a.depth-b.depth}function ri(a,b){function c(a,d){var e=a.children,g;if(e&&(g=e.length))for(var k,l=null,p=-1;++p<g;)k=e[p],c(k,l),l=k;b(a,d)}c(a,null)}function On(a){return{x:a.x,y:a.y,mf:a.mf,Pf:a.Pf}}function Pp(a,b){var c=
a.x+b[3],d=a.y+b[0],e=a.mf-b[1]-b[3];a=a.Pf-b[0]-b[2];0>e&&(c+=e/2,e=0);0>a&&(d+=a/2,a=0);return{x:c,y:d,mf:e,Pf:a}}function Qp(a,b){function c(a,d){Z.text(a,b,function(a){d(a&&c.parse(a))})}function d(b){return b.map(e).join(a)}function e(a){return k.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var g=new RegExp("\r\n|["+a+"\r\n]","g"),k=new RegExp('["'+a+"\n]"),l=a.charCodeAt(0);c.parse=function(a){var b;return c.bFa(a,function(a,c){if(c){c={};for(var d=-1,e=b.length;++d<e;)c[b[d]]=a[d];return c}b=a;
return null})};c.bFa=function(a,b){function c(){if(g.lastIndex>=a.length)return e;if(Ra)return Ra=!1,d;var b=g.lastIndex;if(34===a.charCodeAt(b)){for(var k=b;k++<a.length;)if(34===a.charCodeAt(k)){if(34!==a.charCodeAt(k+1))break;k++}g.lastIndex=k+2;var p=a.charCodeAt(k+1);13===p?(Ra=!0,10===a.charCodeAt(k+2)&&g.lastIndex++):10===p&&(Ra=!0);return a.substring(b+1,k).replace(/""/g,'"')}if(k=g.exec(a))return Ra=k[0].charCodeAt(0)!==l,a.substring(b,k.index);g.lastIndex=a.length;return a.substring(b)}
var d={},e={},k=[],p=0,q,Ra;for(g.lastIndex=0;(q=c())!==e;){for(var v=[];q!==d&&q!==e;)v.push(q),q=c();b&&!(v=b(v,p++))||k.push(v)}return k};c.format=function(a){return a.map(d).join("\n")};return c}function Qu(a,b){return function(c){return c&&a.hasOwnProperty(c.type)?a[c.type](c):b}}function Ru(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Nz(a,b){if(OP.hasOwnProperty(a.type))OP[a.type](a,b)}function AP(a,b){a=a.Ne;for(var c=0,d=a.length;c<d;c++)b.apply(null,
a[c])}function BP(a){return a.source}function ti(a){return a.target}function Su(){function a(b){var c=Math.sin(b*=M)*P;b=Math.sin(M-b)*P;var d=b*g+c*x,l=b*k+c*J;return[Math.atan2(l,d)/ac,Math.atan2(b*e+c*v,Math.sqrt(d*d+l*l))/ac]}var b,c,d,e,g,k,l,p,q,v,x,J,M,P;a.Yj=function(){null==M&&(P=1/Math.sin(M=Math.acos(Math.max(-1,Math.min(1,e*v+d*q*Math.cos(l-b))))));return M};a.source=function(l){var p=Math.cos(b=l[0]*ac),q=Math.sin(b);d=Math.cos(c=l[1]*ac);e=Math.sin(c);g=d*p;k=d*q;M=null;return a};a.target=
function(b){var c=Math.cos(l=b[0]*ac),d=Math.sin(l);q=Math.cos(p=b[1]*ac);v=Math.sin(p);x=q*c;J=q*d;M=null;return a};return a}function Tu(a,b){a=Su().source(a).target(b);a.Yj();return a}function Yg(a,b,c,d){var e,g,k;a=d[a];e=a[0];g=a[1];a=d[b];b=a[0];k=a[1];a=d[c];return 0<(a[1]-g)*(b-e)-(k-g)*(a[0]-e)}function Yn(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function rm(a,b,c,d){var e=a[0],g=c[0];a=a[1];var k=c[1];c=b[0]-e;var l=d[0]-g;b=b[1]-a;d=d[1]-k;g=(l*(a-k)-d*(e-g))/(d*c-l*
b);return[e+g*c,a+g*b]}function Oz(a,b){a=a.map(function(a,b){return{index:b,x:a[0],y:a[1]}}).sort(function(a,b){return a.y<b.y?-1:a.y>b.y?1:a.x<b.x?-1:a.x>b.x?1:0});var c=null,d={list:[],uC:null,LC:null,init:function(){d.uC=d.yH(null,"l");d.LC=d.yH(null,"l");d.uC.r=d.LC;d.LC.Vc=d.uC;d.list.unshift(d.uC,d.LC)},yH:function(a,b){return{edge:a,zs:b,TR:null,Vc:null,r:null}},ul:function(a,b){b.Vc=a;b.r=a.r;a.r.Vc=b;a.r=b},PDa:function(a){var b=d.uC;do b=b.r;while(b!=d.LC&&e.IFa(b,a));return b=b.Vc},Ed:function(a){a.Vc.r=
a.r;a.r.Vc=a.Vc;a.edge=null},right:function(a){return a.r},left:function(a){return a.Vc},SDa:function(a){return null==a.edge?c:a.edge.region[a.zs]},Lga:function(a){return null==a.edge?c:a.edge.region[YG[a.zs]]}},e={bu:function(a,b){var c={region:{Vc:a,r:b},AB:{Vc:null,r:null}},d=b.x-a.x;b=b.y-a.y;c.c=a.x*d+a.y*b+.5*(d*d+b*b);(0<d?d:-d)>(0<b?b:-b)?(c.a=1,c.b=b/d,c.c/=d):(c.b=1,c.a=d/b,c.c/=b);return c},eQ:function(a,b){var c=a.edge,d=b.edge;if(!c||!d||c.region.r==d.region.r)return null;var e=c.a*d.b-
c.b*d.a;if(1E-10>Math.abs(e))return null;var g=(c.c*d.b-d.c*c.b)/e,e=(d.c*c.a-c.c*d.a)/e,k=c.region.r,l=d.region.r;k.y<l.y||k.y==l.y&&k.x<l.x||(a=b,c=d);return(c=g>=c.region.r.x)&&"l"===a.zs||!c&&"r"===a.zs?null:{x:g,y:e}},IFa:function(a,b){var c=a.edge,d=c.region.r,e=b.x>d.x;if(e&&"l"===a.zs)return 1;if(!e&&"r"===a.zs)return 0;if(1===c.a){var g=b.y-d.y,k=b.x-d.x,l=0;!e&&0>c.b||e&&0<=c.b?b=l=g>=c.b*k:(b=b.x+b.y*c.b>c.c,0>c.b&&(b=!b),b||(l=1));l||(d=d.x-c.region.Vc.x,b=c.b*(k*k-g*g)<d*g*(1+2*k/d+c.b*
c.b),0>c.b&&(b=!b))}else g=c.c-c.a*b.x,c=b.y-g,b=b.x-d.x,d=g-d.y,b=c*c>b*b+d*d;return"l"===a.zs?b:!b},T_:function(a,c,d){a.AB[c]=d;a.AB[YG[c]]&&b(a)},Yj:function(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}},g={list:[],ul:function(a,b,c){a.TR=b;a.QJ=b.y+c;c=0;for(var d=g.list,e=d.length;c<e;c++){var k=d[c];if(!(a.QJ>k.QJ||a.QJ==k.QJ&&b.x>k.TR.x))break}d.splice(c,0,a)},Ed:function(a){for(var b=0,c=g.list,d=c.length;b<d&&c[b]!=a;++b);c.splice(b,1)},empty:function(){return 0===g.list.length},
P_a:function(a){for(var b=0,c=g.list,d=c.length;b<d;++b)if(c[b]==a)return c[b+1];return null},min:function(){var a=g.list[0];return{x:a.TR.x,y:a.QJ}},NAa:function(){return g.list.shift()}};d.init();for(var c=a.shift(),k=a.shift(),l,p,q,v,x,J,M,P,T;;)if(g.empty()||(l=g.min()),k&&(g.empty()||k.y<l.y||k.y==l.y&&k.x<l.x)){p=d.PDa(k);q=d.right(p);M=d.Lga(p);T=e.bu(M,k);J=d.yH(T,"l");d.ul(p,J);if(P=e.eQ(p,J))g.Ed(p),g.ul(p,P,e.Yj(P,k));p=J;J=d.yH(T,"r");d.ul(p,J);(P=e.eQ(J,q))&&g.ul(J,P,e.Yj(P,k));k=a.shift()}else if(g.empty())break;
else{p=g.NAa();v=d.left(p);q=d.right(p);x=d.right(q);M=d.SDa(p);J=d.Lga(q);P=p.TR;e.T_(p.edge,p.zs,P);e.T_(q.edge,q.zs,P);d.Ed(p);g.Ed(q);d.Ed(q);p="l";M.y>J.y&&(p=M,M=J,J=p,p="r");T=e.bu(M,J);J=d.yH(T,p);d.ul(v,J);e.T_(T,YG[p],P);if(P=e.eQ(v,J))g.Ed(v),g.ul(v,P,e.Yj(P,M));(P=e.eQ(J,x))&&g.ul(J,P,e.Yj(P,M))}for(p=d.right(d.uC);p!=d.LC;p=d.right(p))b(p.edge)}function sm(a,b,c,d,e,g){if(!a(b,c,d,e,g)){var k=.5*(c+e),l=.5*(d+g);b=b.Tu;b[0]&&sm(a,b[0],c,d,k,l);b[1]&&sm(a,b[1],k,d,e,l);b[2]&&sm(a,b[2],
c,l,k,g);b[3]&&sm(a,b[3],k,l,e,g)}}function s2(a){return{x:a[0],y:a[1]}}function pl(){this.$e=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Pz(a){return a.substring(0,3)}function fq(a,b,c,d){for(var e,g=0,k=b.length,l=c.length;g<k;){if(d>=l)return-1;e=b.charCodeAt(g++);if(37==e){if(e=F2[b.charAt(g++)],!e||0>(d=e(a,c,d)))return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function gq(a){return new RegExp("^(?:"+a.map(Z.Hga).join("|")+")","i")}function MG(a){for(var b=
new k,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function CP(a,b,c){bg.lastIndex=0;return(b=bg.exec(b.substring(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function DP(a,b,c){bg.lastIndex=0;return(b=bg.exec(b.substring(c,c+2)))?(a.iz=+b[0],c+b[0].length):-1}function Uu(a){return a.toISOString()}function Zn(a,b,c){function d(b){var c=a(b),e=g(c,1);return b-c<e-b?c:e}function e(c){b(c=a(new ag(c-1)),1);return c}function g(a,c){b(a=new ag(+a),c);return a}function k(a,d,g){a=e(a);var l=[];
if(1<g)for(;a<d;)c(a)%g||l.push(new Date(+a)),b(a,1);else for(;a<d;)l.push(new Date(+a)),b(a,1);return l}a.floor=a;a.round=d;a.ceil=e;a.offset=g;a.range=k;var l=a.Fe=Qz(a);l.floor=l;l.round=Qz(d);l.ceil=Qz(e);l.offset=Qz(g);l.range=function(a,b,c){try{ag=pl;var d=new pl;d.$e=a;return k(d,b,c)}finally{ag=Date}};return a}function Qz(a){return function(b,c){try{ag=pl;var d=new pl;d.$e=b;return a(d,c).$e}finally{ag=Date}}}function NG(a,b,c){function d(b){return a(b)}d.Tf=function(b){return Rz(a.Tf(b))};
d.domain=function(b){if(!arguments.length)return a.domain().map(Rz);a.domain(b);return d};d.P1=function(a){return d.domain(Lc(d.domain(),function(){return a}))};d.mh=function(c,e){var g,k=d.domain();g=k[0];k=k[k.length-1];g=g<k?[g,k]:[k,g];if("function"!==typeof c){e=(g[1]-g[0])/c;k=Z.bu(pq,e);if(k==pq.length)return b.year(g,c);if(!k)return a.mh(c).map(Rz);Math.log(e/pq[k-1])<Math.log(pq[k]/e)&&--k;c=b[k];e=c[1];c=c[0].range}return c(g[0],new Date(+g[1]+1),e)};d.Ds=function(){return c};d.Ai=function(){return NG(a.Ai(),
b,c)};return Z.Xu(d,a,"range","rangeRound","interpolate","clamp")}function Rz(a){return new Date(a)}function EP(a){return function(b){for(var c=a.length-1,d=a[c];!d[1](b);)d=a[--c];return d[0](b)}}function Sz(a){var b=new Date(a,0,1);b.setFullYear(a);return b}function t2(a){var b=a.getFullYear(),c=Sz(b),d=Sz(b+1);return b+(a-c)/(d-c)}function Tz(a){var b=new Date(Date.UTC(a,0,1));b.setUTCFullYear(a);return b}function Uz(a){var b=a.getUTCFullYear(),c=Tz(b),d=Tz(b+1);return b+(a-c)/(d-c)}Date.now||
(Date.now=function(){return+new Date});try{window.document.createElement("div").style.setProperty("opacity",0,"")}catch(Ra){var Vz=window.CSSStyleDeclaration.prototype,u2=Vz.setProperty;Vz.setProperty=function(a,b,c){u2.call(this,a,b+"",c)}}Z.version="2.10.3";try{e(window.document.documentElement.childNodes)[0].nodeType}catch(Ra){e=g}var OG=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};Z.map=function(a){var b=new k,c;for(c in a)b.set(c,a[c]);return b};(function(a,
b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(d){a.prototype=b}})(k,{has:function(a){return Vu+a in this},get:function(a){return this[Vu+a]},set:function(a,b){return this[Vu+a]=b},remove:function(a){a=Vu+a;return a in this&&delete this[a]},keys:function(){var a=[];this.forEach(function(b){a.push(b)});return a},values:function(){var a=[];this.forEach(function(b,c){a.push(c)});return a},entries:function(){var a=[];this.forEach(function(b,c){a.push({key:b,
value:c})});return a},forEach:function(a){for(var b in this)b.charCodeAt(0)===FP&&a.call(this,b.substring(1),this[b])}});var Vu="\x00",FP=Vu.charCodeAt(0);Z.tYa=v;Z.Xu=function(a,b){for(var c=1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=x(a,b,b[e]);return a};Z.mH=function(a,b){return a<b?-1:a>b?1:a>=b?0:window.NaN};Z.aYa=function(a,b){return b<a?-1:b>a?1:b>=a?0:window.NaN};Z.t_a=function(a,b){var c=a.length,d,e=0,g=-1,k=0;if(1===arguments.length)for(;++g<c;)J(d=a[g])&&(e+=(d-e)/++k);else for(;++g<
c;)J(d=b.call(a,a[g],g))&&(e+=(d-e)/++k);return k?e:void 0};Z.u_a=function(a,b){1<arguments.length&&(a=a.map(b));a=a.filter(J);return a.length?Z.y2(a.sort(Z.mH),.5):void 0};Z.min=function(a,b){var c=-1,d=a.length,e,g;if(1===arguments.length){for(;++c<d&&(null==(e=a[c])||e!=e);)e=void 0;for(;++c<d;)null!=(g=a[c])&&e>g&&(e=g)}else{for(;++c<d&&(null==(e=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<d;)null!=(g=b.call(a,a[c],c))&&e>g&&(e=g)}return e};Z.max=function(a,b){var c=-1,d=a.length,e,g;if(1===arguments.length){for(;++c<
d&&(null==(e=a[c])||e!=e);)e=void 0;for(;++c<d;)null!=(g=a[c])&&g>e&&(e=g)}else{for(;++c<d&&(null==(e=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<d;)null!=(g=b.call(a,a[c],c))&&g>e&&(e=g)}return e};Z.rP=function(a,b){var c=-1,d=a.length,e,g,k;if(1===arguments.length){for(;++c<d&&(null==(e=k=a[c])||e!=e);)e=k=void 0;for(;++c<d;)null!=(g=a[c])&&(e>g&&(e=g),k<g&&(k=g))}else{for(;++c<d&&(null==(e=k=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<d;)null!=(g=b.call(a,a[c],c))&&(e>g&&(e=g),k<g&&(k=g))}return[e,
k]};Z.random={AEa:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);return function(){var c,d;do c=2*Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||1<d);return a+b*c*Math.sqrt(-2*Math.log(d)/d)}},n_a:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);var d=Z.random.AEa();return function(){return Math.exp(a+b*d())}},$Ya:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b/a}}};Z.wGa=function(a,b){var c=0,d=a.length,e,g=-1;if(1===arguments.length)for(;++g<
d;)(0,window.isNaN)(e=+a[g])||(c+=e);else for(;++g<d;)(0,window.isNaN)(e=+b.call(a,a[g],g))||(c+=e);return c};Z.y2=function(a,b){var c=(a.length-1)*b+1;b=Math.floor(c);var d=a[b-1];return(c-=b)?d+c*(a[b]-d):d};Z.Qha=function(a){return Z.zip.apply(Z,a)};Z.zip=function(){var a;if(!(a=arguments.length))return[];for(var b=-1,c=Z.min(arguments,M),d=Array(c);++b<c;)for(var e=-1,g=d[b]=Array(a);++e<a;)g[e]=arguments[e][b];return d};Z.Mza=function(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);
4>arguments.length&&(e=b.length);for(;d<e;){var g=d+e>>>1;a.call(b,b[g],g)<c?d=g+1:e=g}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var g=d+e>>>1;c<a.call(b,b[g],g)?e=g:d=g+1}return d}}};var Wz=Z.Mza(function(a){return a});Z.WWa=Wz.left;Z.bu=Z.XWa=Wz.right;Z.first=function(a,b){var c=0,d=a.length,e=a[0],g;1===arguments.length&&(b=Z.mH);for(;++c<d;)0<b.call(a,e,g=a[c])&&(e=g);return e};Z.OZa=function(a,b){var c=0,d=a.length,e=a[0],g;1===arguments.length&&
(b=Z.mH);for(;++c<d;)0>=b.call(a,e,g=a[c])&&(e=g);return e};Z.N_a=function(){function a(b,e){if(e>=d.length)return l?l.call(c,b):g?b.sort(g):b;for(var p=-1,q=b.length,v=d[e++],x,kd,J=new k,cg,M={};++p<q;)(cg=J.get(x=v(kd=b[p])))?cg.push(kd):J.set(x,[kd]);J.forEach(function(b,c){M[b]=a(c,e)});return M}function b(a,c){if(c>=d.length)return a;var g=[],k=e[c++],l;for(l in a)g.push({key:l,values:b(a[l],c)});k&&g.sort(function(a,b){return k(a.key,b.key)});return g}var c={},d=[],e=[],g,l;c.map=function(b){return a(b,
0)};c.entries=function(c){return b(a(c,0),0)};c.key=function(a){d.push(a);return c};c.l1a=function(a){e[d.length-1]=a;return c};c.n1a=function(a){g=a;return c};c.K0a=function(a){l=a;return c};return c};Z.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};Z.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};Z.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};Z.lga=function(a,b){for(var c=[],d=-1,e=b.length;++d<e;)c[d]=a[b[d]];return c};Z.Ih=function(a){return Array.prototype.concat.apply([],
a)};Z.split=function(a,b){var c=[],d=[],e,g=-1,k=a.length;for(2>arguments.length&&(b=P);++g<k;)b.call(d,e=a[g],g)?d=[]:(d.length||c.push(d),d.push(e));return c};Z.range=function(a,b,c){3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0));if(window.Infinity===(b-a)/c)throw Error("infinite range");var d=[],e;for(e=1;Math.abs(c)*e%1;)e*=10;var g=-1,k;a*=e;b*=e;c*=e;if(0>c)for(;(k=a+c*++g)>b;)d.push(k/e);else for(;(k=a+c*++g)<b;)d.push(k/e);return d};Z.Hga=function(a){return a.replace(Wu,"\\$\x26")};
var Wu=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Z.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};Z.Wy=function(a,b,c){var d=new window.XMLHttpRequest;3>arguments.length?(c=b,b=null):b&&d.overrideMimeType&&d.overrideMimeType(b);d.open("GET",a,!0);b&&d.setRequestHeader("Accept",b);d.onreadystatechange=function(){if(4===d.readyState){var a=d.status;c(!a&&d.response||200<=a&&300>a||304===a?d:null)}};d.send(null)};Z.text=function(a,b,c){3>arguments.length&&(c=b,b=null);Z.Wy(a,
b,function(a){c(a&&a.responseText)})};Z.json=function(a,b){Z.text(a,"application/json",function(a){b(a?JSON.parse(a):null)})};Z.html=function(a,b){Z.text(a,"text/html",function(a){if(null!=a){var c=window.document.createRange();c.selectNode(window.document.body);a=c.createContextualFragment(a)}b(a)})};Z.xml=function(a,b,c){3>arguments.length&&(c=b,b=null);Z.Wy(a,b,function(a){c(a&&a.responseXML)})};var hq={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",
xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Z.AC={prefix:hq,XI:function(a){var b=a.indexOf(":"),c=a;0<=b&&(c=a.substring(0,b),a=a.substring(b+1));return hq.hasOwnProperty(c)?{aq:hq[c],local:a}:a}};Z.Tca=function(){for(var a=new S,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=T(a);return a};S.prototype.O=function(a,b){var c=a.indexOf("."),d="";0<c&&(d=a.substring(c+1),a=a.substring(0,c));return 2>arguments.length?this[a].O(d):this[a].O(d,b)};Z.format=function(a){a=
v2.exec(a);var b=a[1]||" ",c=a[3]||"",d=a[5],e=+a[6],g=a[7],k=a[8],l=a[9],p=1,q="",v=!1;k&&(k=+k.substring(1));d&&(b="0",g&&(e-=Math.floor((e-1)/4)));switch(l){case "n":g=!0;l="g";break;case "%":p=100;q="%";l="f";break;case "p":p=100;q="%";l="r";break;case "d":v=!0;k=0;break;case "s":p=-1,l="r"}"r"!=l||k||(l="g");l=GP.get(l)||da;return function(a){if(v&&a%1)return"";var Ra=0>a&&(a=-a)?"-":c;if(0>p){var x=Z.XAa(a,k);a=x.scale(a);q=x.symbol}else a*=p;a=l(a,k);d?(x=a.length+Ra.length,x<e&&(a=Array(e-
x+1).join(b)+a),g&&(a=Ga(a)),a=Ra+a):(g&&(a=Ga(a)),a=Ra+a,x=a.length,x<e&&(a=Array(e-x+1).join(b)+a));return a+q}};var v2=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,GP=Z.map({Gn:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return Z.round(a,b=W(a,b)).toFixed(Math.max(0,Math.min(20,b)))}}),w2="y z a f p n μ m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*Math.abs(8-
b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});Z.XAa=function(a,b){var c=0;a&&(0>a&&(a*=-1),b&&(a=Z.round(a,W(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((0>=c?c+1:c-1)/3))));return w2[8+c/3]};var HP=he(2),x2=he(3),IP=Z.map({Op:d,r0a:he,x0a:function(){return HP},DXa:function(){return x2},sin:function(){return Hb},exp:function(){return Cc},circle:function(){return ie},gYa:function(a,b){var c;2>arguments.length&&(b=.45);
1>arguments.length?(a=1,c=b/4):c=b/(2*Math.PI)*Math.asin(1/a);return function(d){return 1+a*Math.pow(2,10*-d)*Math.sin(2*(d-c)*Math.PI/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},cXa:function(){return vc}}),Xz=Z.map({"in":bb,XEa:lb,"in-out":dc,"out-in":function(a){return dc(lb(a))}});Z.rp=function(a){var b=a.indexOf("-"),c=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in",c=IP.get(c)||d,b=Xz.get(b)||bb;return ya(b(c.apply(null,Array.prototype.slice.call(arguments,
1))))};Z.event=null;Z.transform=function(a){var b=window.document.createElementNS(Z.AC.prefix.svg,"g");return(Z.transform=function(a){b.setAttribute("transform",a);a=b.transform.baseVal.consolidate();return new we(a?a.matrix:PG)})(a)};we.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.L3+")scale("+this.scale+")"};var Yz=180/Math.PI,PG={a:1,b:0,c:0,d:1,e:0,f:0};Z.Gu=function(a,b){for(var c=Z.sea.length,d;0<=--c&&!(d=Z.sea[c](a,b)););return d};Z.Hu=
function(a,b){b-=a;return function(c){return a+b*c}};Z.mCa=function(a,b){b-=a;return function(c){return Math.round(a+b*c)}};Z.nCa=function(a,b){var c,d,e=0,g=[],k=[],l,p;for(d=Zz.lastIndex=0;c=Zz.exec(b);++d)c.index&&g.push(b.substring(e,c.index)),k.push({Yd:g.length,x:c[0]}),g.push(null),e=Zz.lastIndex;e<b.length&&g.push(b.substring(e));d=0;for(l=k.length;(c=Zz.exec(a))&&d<l;++d)if(p=k[d],p.x==c[0]){if(p.Yd)if(null==g[p.Yd+1])for(g[p.Yd-1]+=p.x,g.splice(p.Yd,1),c=d+1;c<l;++c)k[c].Yd--;else for(g[p.Yd-
1]+=p.x+g[p.Yd+1],g.splice(p.Yd,2),c=d+1;c<l;++c)k[c].Yd-=2;else if(null==g[p.Yd+1])g[p.Yd]=p.x;else for(g[p.Yd]=p.x+g[p.Yd+1],g.splice(p.Yd+1,1),c=d+1;c<l;++c)k[c].Yd--;k.splice(d,1);l--;d--}else p.x=Z.Hu((0,window.parseFloat)(c[0]),(0,window.parseFloat)(p.x));for(;d<l;)p=k.pop(),null==g[p.Yd+1]?g[p.Yd]=p.x:(g[p.Yd]=p.x+g[p.Yd+1],g.splice(p.Yd+1,1)),l--;return 1===g.length?null==g[0]?k[0].x:function(){return b}:function(a){for(d=0;d<l;++d)g[(p=k[d]).Yd]=p.x(a);return g.join("")}};Z.oCa=function(a,
b){var c=[],d=[],e,g=Z.transform(a),k=Z.transform(b);b=g.translate;a=k.translate;var l=g.rotate,p=k.rotate,q=g.L3,v=k.L3,g=g.scale,k=k.scale;b[0]!=a[0]||b[1]!=a[1]?(c.push("translate(",null,",",null,")"),d.push({Yd:1,x:Z.Hu(b[0],a[0])},{Yd:3,x:Z.Hu(b[1],a[1])})):a[0]||a[1]?c.push("translate("+a+")"):c.push("");l!=p?(180<l-p?p+=360:180<p-l&&(l+=360),d.push({Yd:c.push(c.pop()+"rotate(",null,")")-2,x:Z.Hu(l,p)})):p&&c.push(c.pop()+"rotate("+p+")");q!=v?d.push({Yd:c.push(c.pop()+"skewX(",null,")")-2,
x:Z.Hu(q,v)}):v&&c.push(c.pop()+"skewX("+v+")");g[0]!=k[0]||g[1]!=k[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({Yd:e-4,x:Z.Hu(g[0],k[0])},{Yd:e-2,x:Z.Hu(g[1],k[1])})):1==k[0]&&1==k[1]||c.push(c.pop()+"scale("+k+")");e=d.length;return function(a){for(var b=-1,g;++b<e;)c[(g=d[b]).Yd]=g.x(a);return c.join("")}};Z.lCa=function(a,b){a=Z.gs(a);b=Z.gs(b);var c=a.r,d=a.Gn,e=a.b,g=b.r-c,k=b.Gn-d,l=b.b-e;return function(a){return"#"+Rb(Math.round(c+g*a))+Rb(Math.round(d+k*a))+Rb(Math.round(e+l*
a))}};Z.YYa=function(a,b){a=Z.O0(a);b=Z.O0(b);var c=a.gk,d=a.zy,e=a.Vc,g=b.gk-c,k=b.zy-d,l=b.Vc-e;180<g?g-=360:-180>g&&(g+=360);return function(a){return gf(c+g*a,d+k*a,e+l*a)+""}};Z.ZYa=function(a,b){a=Z.lfa(a);b=Z.lfa(b);var c=a.Vc,d=a.a,e=a.b,g=b.Vc-c,k=b.a-d,l=b.b-e;return function(a){return Zk(c+g*a,d+k*a,e+l*a)+""}};Z.XYa=function(a,b){a=Z.Tda(a);b=Z.Tda(b);var c=a.gk,d=a.c,e=a.Vc,g=b.gk-c,k=b.c-d,l=b.Vc-e;180<g?g-=360:-180>g&&(g+=360);return function(a){return jc(c+g*a,d+k*a,e+l*a)+""}};Z.jCa=
function(a,b){var c=[],d=[],e=a.length,g=b.length,k=Math.min(a.length,b.length),l;for(l=0;l<k;++l)c.push(Z.Gu(a[l],b[l]));for(;l<e;++l)d[l]=a[l];for(;l<g;++l)d[l]=b[l];return function(a){for(l=0;l<k;++l)d[l]=c[l](a);return d}};Z.kCa=function(a,b){var c={},d={},e;for(e in a)e in b?c[e]=mg(e)(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}};var Zz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Z.sea=[Z.kCa,function(a,b){return b instanceof Array&&
Z.jCa(a,b)},function(a,b){return("string"===typeof a||"string"===typeof b)&&Z.nCa(a+"",b+"")},function(a,b){return("string"===typeof b?$z.has(b)||/^(#|rgb\(|hsl\()/.test(b):b instanceof Pe)&&Z.lCa(a,b)},function(a,b){return!(0,window.isNaN)(a=+a)&&!(0,window.isNaN)(b=+b)&&Z.Hu(a,b)}];Pe.prototype.toString=function(){return this.gs()+""};Z.gs=function(a,b,c){return 1===arguments.length?a instanceof Oc?Va(a.r,a.Gn,a.b):yh(""+a,Va,gf):Va(~~a,~~b,~~c)};var Xu=Oc.prototype=new Pe;Xu.p_=function(a){a=Math.pow(.7,
arguments.length?a:1);var b=this.r,c=this.Gn,d=this.b;if(!b&&!c&&!d)return Va(30,30,30);b&&30>b&&(b=30);c&&30>c&&(c=30);d&&30>d&&(d=30);return Va(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(d/a)))};Xu.G_=function(a){a=Math.pow(.7,arguments.length?a:1);return Va(Math.floor(a*this.r),Math.floor(a*this.Gn),Math.floor(a*this.b))};Xu.O0=function(){return hi(this.r,this.Gn,this.b)};Xu.toString=function(){return"#"+Rb(this.r)+Rb(this.Gn)+Rb(this.b)};var $z=Z.map({FWa:"#f0f8ff",
JWa:"#faebd7",KWa:"#00ffff",LWa:"#7fffd4",PWa:"#f0ffff",UWa:"#f5f5dc",YWa:"#ffe4c4",ZWa:"#000000",$Wa:"#ffebcd",blue:"#0000ff",aXa:"#8a2be2",eXa:"#a52a2a",gXa:"#deb887",iXa:"#5f9ea0",pXa:"#7fff00",qXa:"#d2691e",yXa:"#ff7f50",zXa:"#6495ed",AXa:"#fff8dc",BXa:"#dc143c",EXa:"#00ffff",FXa:"#00008b",GXa:"#008b8b",HXa:"#b8860b",IXa:"#a9a9a9",JXa:"#006400",KXa:"#a9a9a9",LXa:"#bdb76b",MXa:"#8b008b",NXa:"#556b2f",OXa:"#ff8c00",PXa:"#9932cc",QXa:"#8b0000",RXa:"#e9967a",SXa:"#8fbc8f",TXa:"#483d8b",UXa:"#2f4f4f",
VXa:"#2f4f4f",WXa:"#00ced1",XXa:"#9400d3",YXa:"#ff1493",ZXa:"#00bfff",dYa:"#696969",eYa:"#696969",fYa:"#1e90ff",oYa:"#b22222",pYa:"#fffaf0",qYa:"#228b22",sYa:"#ff00ff",uYa:"#dcdcdc",xYa:"#f8f8ff",yYa:"#ffd700",zYa:"#daa520",BYa:"#808080",green:"#008000",DYa:"#adff2f",EYa:"#808080",QYa:"#f0fff0",RYa:"#ff69b4",UYa:"#cd5c5c",VYa:"#4b0082",LZa:"#fffff0",NZa:"#f0e68c",PZa:"#e6e6fa",QZa:"#fff0f5",RZa:"#7cfc00",SZa:"#fffacd",TZa:"#add8e6",UZa:"#f08080",VZa:"#e0ffff",XZa:"#fafad2",YZa:"#d3d3d3",ZZa:"#90ee90",
$Za:"#d3d3d3",a_a:"#ffb6c1",b_a:"#ffa07a",c_a:"#20b2aa",d_a:"#87cefa",e_a:"#778899",f_a:"#778899",g_a:"#b0c4de",i_a:"#ffffe0",j_a:"#00ff00",k_a:"#32cd32",l_a:"#faf0e6",p_a:"#ff00ff",q_a:"#800000",v_a:"#66cdaa",w_a:"#0000cd",x_a:"#ba55d3",y_a:"#9370db",z_a:"#3cb371",A_a:"#7b68ee",B_a:"#00fa9a",C_a:"#48d1cc",D_a:"#c71585",F_a:"#191970",G_a:"#f5fffa",H_a:"#ffe4e1",I_a:"#ffe4b5",K_a:"#ffdead",L_a:"#000080",T_a:"#fdf5e6",U_a:"#808000",V_a:"#6b8e23",Y_a:"#ffa500",Z_a:"#ff4500",$_a:"#da70d6",e0a:"#eee8aa",
f0a:"#98fb98",g0a:"#afeeee",h0a:"#db7093",i0a:"#ffefd5",k0a:"#ffdab9",l0a:"#cd853f",n0a:"#ffc0cb",o0a:"#dda0dd",u0a:"#b0e0e6",w0a:"#800080",red:"#ff0000",L0a:"#bc8f8f",M0a:"#4169e1",N0a:"#8b4513",O0a:"#fa8072",P0a:"#f4a460",T0a:"#2e8b57",U0a:"#fff5ee",$0a:"#a0522d",d1a:"#c0c0c0",e1a:"#87ceeb",f1a:"#6a5acd",g1a:"#708090",h1a:"#708090",i1a:"#fffafa",p1a:"#00ff7f",r1a:"#4682b4",tan:"#d2b48c",A1a:"#008080",D1a:"#d8bfd8",J1a:"#ff6347",Q1a:"#40e0d0",X1a:"#ee82ee",$1a:"#f5deb3",a2a:"#ffffff",b2a:"#f5f5f5",
j2a:"#ffff00",k2a:"#9acd32"});$z.forEach(function(a,b){$z.set(a,yh(b,Va,gf))});Z.O0=function(a,b,c){return 1===arguments.length?a instanceof ic?Sg(a.gk,a.zy,a.Vc):yh(""+a,hi,Sg):Sg(+a,+b,+c)};var aA=ic.prototype=new Pe;aA.p_=function(a){a=Math.pow(.7,arguments.length?a:1);return Sg(this.gk,this.zy,this.Vc/a)};aA.G_=function(a){a=Math.pow(.7,arguments.length?a:1);return Sg(this.gk,this.zy,a*this.Vc)};aA.gs=function(){return gf(this.gk,this.zy,this.Vc)};Z.Tda=function(a,b,c){return 1===arguments.length?
a instanceof Qe?new Qe(a.gk,a.c,a.Vc):a instanceof ze?fj(a.Vc,a.a,a.b):fj((a=sg((a=Z.gs(a)).r,a.Gn,a.b)).Vc,a.a,a.b):new Qe(+a,+b,+c)};var ql=Qe.prototype=new Pe;ql.p_=function(a){return new Qe(this.gk,this.c,Math.min(100,this.Vc+Yu*(arguments.length?a:1)))};ql.G_=function(a){return new Qe(this.gk,this.c,Math.max(0,this.Vc-Yu*(arguments.length?a:1)))};ql.gs=function(){return jc(this.gk,this.c,this.Vc).gs()};Z.lfa=function(a,b,c){return 1===arguments.length?a instanceof ze?new ze(a.Vc,a.a,a.b):a instanceof
Qe?jc(a.Vc,a.c,a.gk):sg((a=Z.gs(a)).r,a.Gn,a.b):new ze(+a,+b,+c)};var Yu=18,JP=.95047,QG=1,KP=1.08883,RG=ze.prototype=new Pe;RG.p_=function(a){return new ze(Math.min(100,this.Vc+Yu*(arguments.length?a:1)),this.a,this.b)};RG.G_=function(a){return new ze(Math.max(0,this.Vc-Yu*(arguments.length?a:1)),this.a,this.b)};RG.gs=function(){return Zk(this.Vc,this.a,this.b)};var uj=window.document.documentElement,LP=uj.matchesSelector||uj.webkitMatchesSelector||uj.mozMatchesSelector||uj.msMatchesSelector||uj.oMatchesSelector;
"function"===typeof window.Sizzle&&(c=function(a,b){return(0,window.Sizzle)(a,b)[0]||null},b=function(a,b){return window.Sizzle.S1a((0,window.Sizzle)(a,b))},a=window.Sizzle.matchesSelector);var Pc=[];Z.selection=function(){return $n};Z.selection.prototype=Pc;Pc.select=function(a){var b=[],c,d,e,g;"function"!==typeof a&&(a=Uf(a));for(var k=-1,l=this.length;++k<l;){b.push(c=[]);c.parentNode=(e=this[k]).parentNode;for(var p=-1,q=e.length;++p<q;)(g=e[p])?(c.push(d=a.call(g,g.__data__,p)),d&&"__data__"in
g&&(d.__data__=g.__data__)):c.push(null)}return ae(b)};Pc.ag=function(a){var b=[],c,d;"function"!==typeof a&&(a=Tg(a));for(var g=-1,k=this.length;++g<k;)for(var l=this[g],p=-1,q=l.length;++p<q;)if(d=l[p])b.push(c=e(a.call(d,d.__data__,p))),c.parentNode=d;return ae(b)};Pc.Ca=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node();a=Z.AC.XI(a);return a.local?c.getAttributeNS(a.aq,a.local):c.getAttribute(a)}for(b in a)this.Bg(bk(b,a[b]));return this}return this.Bg(bk(a,b))};Pc.ZO=
function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node(),d=(a=a.trim().split(/^|\s+/g)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.className,null!=b.baseVal&&(b=b.baseVal);++e<d;)if(!Xb(a[e]).test(b))return!1;return!0}for(b in a)this.Bg(ii(b,a[b]));return this}return this.Bg(ii(a,b))};Pc.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b="");for(c in a)this.Bg(Bd(c,a[c],b));return this}if(2>d)return window.getComputedStyle(this.node(),
null).getPropertyValue(a);c=""}return this.Bg(Bd(a,b,c))};Pc.cR=function(a,b){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(b in a)this.Bg(dk(b,a[b]));return this}return this.Bg(dk(a,b))};Pc.text=function(a){return 1>arguments.length?this.node().textContent:this.Bg("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a})};Pc.html=function(a){return 1>arguments.length?
this.node().innerHTML:this.Bg("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a})};Pc.append=function(a){function b(){return this.appendChild(window.document.createElementNS(this.namespaceURI,a))}function c(){return this.appendChild(window.document.createElementNS(a.aq,a.local))}a=Z.AC.XI(a);return this.select(a.local?c:b)};Pc.ul=function(a,b){function d(){return this.insertBefore(window.document.createElementNS(this.namespaceURI,
a),c(b,this))}function e(){return this.insertBefore(window.document.createElementNS(a.aq,a.local),c(b,this))}a=Z.AC.XI(a);return this.select(a.local?e:d)};Pc.remove=function(){return this.Bg(function(){var a=this.parentNode;a&&a.removeChild(this)})};Pc.data=function(a,b){function c(a,d){var e,g=a.length,l=d.length,Ra=Math.min(g,l),x=Math.max(g,l),J=[],Zg=[],xj=[],ah,M;if(b){var Ra=new k,x=[],$g;M=d.length;for(e=-1;++e<g;)$g=b.call(ah=a[e],ah.__data__,e),Ra.has($g)?xj[M++]=ah:Ra.set($g,ah),x.push($g);
for(e=-1;++e<l;)$g=b.call(d,M=d[e],e),Ra.has($g)?(J[e]=ah=Ra.get($g),ah.__data__=M,Zg[e]=xj[e]=null):(Zg[e]={__data__:M},J[e]=xj[e]=null),Ra.remove($g);for(e=-1;++e<g;)Ra.has(x[e])&&(xj[e]=a[e])}else{for(e=-1;++e<Ra;)ah=a[e],M=d[e],ah?(ah.__data__=M,J[e]=ah,Zg[e]=xj[e]=null):(Zg[e]={__data__:M},J[e]=xj[e]=null);for(;e<l;++e)Zg[e]={__data__:d[e]},J[e]=xj[e]=null;for(;e<x;++e)xj[e]=a[e],Zg[e]=J[e]=null}Zg.update=J;Zg.parentNode=J.parentNode=xj.parentNode=a.parentNode;p.push(Zg);q.push(J);v.push(xj)}
var d=-1,e=this.length,g,l;if(!arguments.length){for(a=Array(e=(g=this[0]).length);++d<e;)if(l=g[d])a[d]=l.__data__;return a}var p=hf([]),q=ae([]),v=ae([]);if("function"===typeof a)for(;++d<e;)c(g=this[d],a.call(g,g.parentNode.__data__,d));else for(;++d<e;)c(g=this[d],a);q.Zj=function(){return p};q.CH=function(){return v};return q};Pc.rAa=Pc.map=function(a){return 1>arguments.length?this.cR("__data__"):this.cR("__data__",a)};Pc.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=Ef(a));for(var g=
0,k=this.length;g<k;g++){b.push(c=[]);c.parentNode=(d=this[g]).parentNode;for(var l=0,p=d.length;l<p;l++)(e=d[l])&&a.call(e,e.__data__,l)&&c.push(e)}return ae(b)};Pc.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],g;0<=--d;)if(g=c[d])e&&e!==g.nextSibling&&e.parentNode.insertBefore(g,e),e=g;return this};Pc.sort=function(a){a=hj.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};Pc.O=function(a,b,c){var d=arguments.length;
if(3>d){if("string"!==typeof a){2>d&&(b=!1);for(c in a)this.Bg(Vf(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d.$e;c=!1}return this.Bg(Vf(a,b,c))};Pc.Bg=function(a){return Cd(this,function(b,c,d){a.call(b,b.__data__,c,d)})};Pc.call=function(a){a.apply(this,(arguments[0]=this,arguments));return this};Pc.empty=function(){return!this.node()};Pc.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var g=c[d];if(g)return g}return null};Pc.transition=
function(){for(var a=[],b,c,d=-1,e=this.length;++d<e;){a.push(b=[]);for(var g=this[d],k=-1,l=g.length;++k<l;)b.push((c=g[k])?{node:c,fh:iq,duration:Zu}:null)}return ek(a,sl||++SG,Date.now())};var $n=ae([[window.document]]);$n[0].parentNode=uj;Z.select=function(a){return"string"===typeof a?$n.select(a):ae([[a]])};Z.ag=function(a){return"string"===typeof a?$n.ag(a):ae([e(a)])};var rl=[];Z.selection.Zj=hf;Z.selection.Zj.prototype=rl;rl.append=Pc.append;rl.ul=Pc.ul;rl.empty=Pc.empty;rl.node=Pc.node;rl.select=
function(a){for(var b=[],c,d,e,g,k,l=-1,p=this.length;++l<p;){e=(g=this[l]).update;b.push(c=[]);c.parentNode=g.parentNode;for(var q=-1,v=g.length;++q<v;)(k=g[q])?(c.push(e[q]=d=a.call(g.parentNode,k.__data__,q)),d.__data__=k.__data__):c.push(null)}return ae(b)};var yg=[],SG=0,sl=0,iq=0,Zu=250,bA=Z.rp("cubic-in-out");yg.call=Pc.call;Z.transition=function(a){return arguments.length?sl?a.transition():a:$n.transition()};Z.transition.prototype=yg;yg.select=function(a){var b=[],c,d,e;"function"!==typeof a&&
(a=Uf(a));for(var g=-1,k=this.length;++g<k;){b.push(c=[]);for(var l=this[g],p=-1,q=l.length;++p<q;)(e=l[p])&&(d=a.call(e.node,e.node.__data__,p))?("__data__"in e.node&&(d.__data__=e.node.__data__),c.push({node:d,fh:e.fh,duration:e.duration})):c.push(null)}return ek(b,this.id,this.time).rp(this.rp())};yg.ag=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=Tg(a));for(var g=-1,k=this.length;++g<k;)for(var l=this[g],p=-1,q=l.length;++p<q;)if(e=l[p]){d=a.call(e.node,e.node.__data__,p);b.push(c=[]);
for(var v=-1,x=d.length;++v<x;)c.push({node:d[v],fh:e.fh,duration:e.duration})}return ek(b,this.id,this.time).rp(this.rp())};yg.filter=function(a){var b=[],c,d;"function"!==typeof a&&(a=Ef(a));for(var e=0,g=this.length;e<g;e++){b.push(c=[]);for(var k=this[e],l=0,p=k.length;l<p;l++)(d=k[l])&&a.call(d.node,d.node.__data__,l)&&c.push(d)}return ek(b,this.id,this.time).rp(this.rp())};yg.Ca=function(a,b){if(2>arguments.length){for(b in a)this.aca(b,Z.kv(a[b],mg(b)));return this}return this.aca(a,Z.kv(b,
mg(a)))};yg.aca=function(a,b){function c(a,d){var g=b.call(this,a,d,this.getAttribute(e));return g===jq?(this.removeAttribute(e),null):g&&function(a){this.setAttribute(e,g(a))}}function d(a,c){var g=b.call(this,a,c,this.getAttributeNS(e.aq,e.local));return g===jq?(this.removeAttributeNS(e.aq,e.local),null):g&&function(a){this.setAttributeNS(e.aq,e.local,g(a))}}var e=Z.AC.XI(a);return this.kv("attr."+a,e.local?d:c)};yg.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>
d&&(b="");for(c in a)this.yha(c,Z.kv(a[c],mg(c)),b);return this}c=""}return this.yha(a,Z.kv(b,mg(a)),c)};yg.yha=function(a,b,c){3>arguments.length&&(c="");return this.kv("style."+a,function(d,e){var g=b.call(this,d,e,window.getComputedStyle(this,null).getPropertyValue(a));return g===jq?(this.style.removeProperty(a),null):g&&function(b){this.style.setProperty(a,g(b),c)}})};yg.text=function(a){return this.kv("text",function(b,c){this.textContent="function"===typeof a?a.call(this,b,c):a})};yg.remove=
function(){return this.Bg("end.transition",function(){var a;!this.xT&&(a=this.parentNode)&&a.removeChild(this)})};yg.fh=function(a){return Cd(this,"function"===typeof a?function(b,c,d){b.fh=a.call(b=b.node,b.__data__,c,d)|0}:(a|=0,function(b){b.fh=a}))};yg.duration=function(a){return Cd(this,"function"===typeof a?function(b,c,d){b.duration=Math.max(1,a.call(b=b.node,b.__data__,c,d)|0)}:(a=Math.max(1,a|0),function(b){b.duration=a}))};yg.transition=function(){return this.select(p)};Z.kv=function(a,
b){function c(d,e,g){d=a.call(this,d,e);return null==d?""!=g&&jq:g!=d&&b(g,d+"")}function d(c,e,g){return g!=a&&b(g,a)}return"function"===typeof a?c:null==a?dm:(a+="",d)};var jq={},y2=0,cA={},tm=null,kq,$u;Z.CJ=function(a,b,c){if(3>arguments.length){if(2>arguments.length)b=0;else if(!(0,window.isFinite)(b))return;c=Date.now()}var d=cA[a.id];d&&d.callback===a?(d.then=c,d.fh=b):cA[a.id=++y2]=tm={callback:a,then:c,fh:b,next:tm};kq||($u=(0,window.clearTimeout)($u),kq=1,MP(jj))};Z.CJ.flush=function(){for(var a,
b=Date.now(),c=tm;c;)a=b-c.then,c.fh||(c.flush=c.callback(a)),c=c.next;Db()};var MP=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){(0,window.setTimeout)(a,17)};Z.Wr=function(a){return Wf(a,Ie())};var lq=/WebKit/.test(window.navigator.userAgent)?-1:0;Z.touches=function(a,b){2>arguments.length&&(b=Ie().touches);return b?e(b).map(function(b){var c=Wf(a,b);c.identifier=b.identifier;
return c}):[]};Z.scale={};Z.scale.Op=function(){return ji([0,1],[0,1],Z.Gu,!1)};Z.scale.log=function(){return li(Z.scale.Op(),gk)};var z2=Z.format(".0e");gk.pow=function(a){return Math.pow(10,a)};mi.pow=function(a){return-Math.pow(10,-a)};Z.scale.pow=function(){return mj(Z.scale.Op(),1)};Z.scale.sqrt=function(){return Z.scale.pow().KAa(.5)};Z.scale.PQ=function(){return Nd([],{t:"range",a:[[]]})};Z.scale.lXa=function(){return Z.scale.PQ().range(NP)};Z.scale.mXa=function(){return Z.scale.PQ().range(um)};
Z.scale.nXa=function(){return Z.scale.PQ().range(TG)};Z.scale.oXa=function(){return Z.scale.PQ().range(UG)};var NP="#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" "),um="#1f77b4 #aec7e8 #ff7f0e #ffbb78 #2ca02c #98df8a #d62728 #ff9896 #9467bd #c5b0d5 #8c564b #c49c94 #e377c2 #f7b6d2 #7f7f7f #c7c7c7 #bcbd22 #dbdb8d #17becf #9edae5".split(" "),TG="#393b79 #5254a3 #6b6ecf #9c9ede #637939 #8ca252 #b5cf6b #cedb9c #8c6d31 #bd9e39 #e7ba52 #e7cb94 #843c39 #ad494a #d6616b #e7969c #7b4173 #a55194 #ce6dbd #de9ed6".split(" "),
UG="#3182bd #6baed6 #9ecae1 #c6dbef #e6550d #fd8d3c #fdae6b #fdd0a2 #31a354 #74c476 #a1d99b #c7e9c0 #756bb1 #9e9ac8 #bcbddc #dadaeb #636363 #969696 #bdbdbd #d9d9d9".split(" ");Z.scale.y2=function(){return le([],[])};Z.scale.z0a=function(){return Xf(0,1,[0,1])};Z.scale.threshold=function(){return me([.5],[0,1])};Z.scale.TYa=function(){return ug([0,1])};Z.svg={};Z.svg.arc=function(){function a(){var g=b.apply(this,arguments),k=c.apply(this,arguments),l=d.apply(this,arguments)+vj,p=e.apply(this,arguments)+
vj,q=Math.abs(l-p),v=q<Math.PI?"0":"1",x=Math.cos(l),l=Math.sin(l),Ra=Math.cos(p),p=Math.sin(p);return q>=A2?g?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+g+"A"+g+","+g+" 0 1,0 0,"+-g+"A"+g+","+g+" 0 1,0 0,"+g+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":g?"M"+k*x+","+k*l+"A"+k+","+k+" 0 "+v+",1 "+k*Ra+","+k*p+"L"+g*Ra+","+g*p+"A"+g+","+g+" 0 "+v+",0 "+g*x+","+g*l+"Z":"M"+k*x+","+k*l+"A"+k+","+k+" 0 "+v+",1 "+k*Ra+","+k*p+"L0,0Z"}var b=ni,c=jd,d=Vg,e=
Ah;a.lea=function(c){if(!arguments.length)return b;b=v(c);return a};a.dga=function(b){if(!arguments.length)return c;c=v(b);return a};a.Ly=function(b){if(!arguments.length)return d;d=v(b);return a};a.Ax=function(b){if(!arguments.length)return e;e=v(b);return a};a.YO=function(){var a=(b.apply(this,arguments)+c.apply(this,arguments))/2,g=(d.apply(this,arguments)+e.apply(this,arguments))/2+vj;return[Math.cos(g)*a,Math.sin(g)*a]};return a};var vj=-Math.PI/2,A2=2*Math.PI-1E-6;Z.svg.EQ=function(){return nj(l)};
var VG=Z.map({Op:be,"linear-closed":function(a){return be(a)+"Z"},"step-before":Bh,"step-after":Ch,TWa:al,"basis-open":function(a){if(4>a.length)return be(a);for(var b=[],c=-1,d=a.length,e,g=[0],k=[0];3>++c;)e=a[c],g.push(e[0]),k.push(e[1]);b.push(Ae(Te,g)+","+Ae(Te,k));for(--c;++c<d;)e=a[c],g.shift(),g.push(e[0]),k.shift(),k.push(e[1]),oe(b,g,k);return b.join("")},"basis-closed":function(a){for(var b,c=-1,d=a.length,e=d+4,g,k=[],l=[];4>++c;)g=a[c%d],k.push(g[0]),l.push(g[1]);b=[Ae(Te,k),",",Ae(Te,
l)];for(--c;++c<e;)g=a[c%d],k.shift(),k.push(g[0]),l.shift(),l.push(g[1]),oe(b,k,l);return b.join("")},Sza:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],g=a[c][0]-d,k=a[c][1]-e,l=-1,p,q;++l<=c;)p=a[l],q=l/c,p[0]=b*p[0]+(1-b)*(d+q*g),p[1]=b*p[1]+(1-b)*(e+q*k);return al(a)},kXa:function(a,b){return 3>a.length?be(a):a[0]+ne(a,Yf(a,b))},"cardinal-open":function(a,b){return 4>a.length?be(a):a[1]+ne(a.slice(1,a.length-1),Yf(a,b))},"cardinal-closed":function(a,b){return 3>a.length?be(a):
a[0]+ne((a.push(a[0]),a),Yf([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=be(a);else{var b=a[0],c=[],d,e,g,k;d=0;e=a.length-1;var l=[];g=a[1];for(k=l[0]=oi(a[0],g);++d<e;)l[d]=(k+(k=oi(g,g=a[d+1])))/2;l[d]=k;for(var p=-1,q=a.length-1;++p<q;)d=oi(a[p],a[p+1]),1E-6>Math.abs(d)?l[p]=l[p+1]=0:(e=l[p]/d,g=l[p+1]/d,k=e*e+g*g,9<k&&(k=3*d/Math.sqrt(k),l[p]=k*e,l[p+1]=k*g));for(p=-1;++p<=q;)k=(a[Math.min(q,p+1)][0]-a[Math.max(0,p-1)][0])/(6*(1+l[p]*l[p])),c.push([k||0,l[p]*k||
0]);a=b+ne(a,c)}return a}});VG.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var WG=[0,2/3,1/3,0],mc=[0,1/3,2/3,0],Te=[0,1/6,2/3,1/6];Z.svg.EQ.zga=function(){var a=nj(jf);a.z2=a.x;delete a.x;a.Yh=a.y;delete a.y;return a};Bh.reverse=Ch;Ch.reverse=Bh;Z.svg.Vd=function(){return oj(l)};Z.svg.Vd.zga=function(){var a=oj(jf);a.z2=a.x;delete a.x;a.lea=a.jia;delete a.jia;a.dga=a.kia;delete a.kia;a.Yh=a.y;delete a.y;a.Ly=a.q4;delete a.q4;a.Ax=a.lia;delete a.lia;return a};Z.svg.Yza=function(){function a(g,
k){var l=b(this,d,g,k);g=b(this,e,g,k);return"M"+l.TQ+c(l.r,l.ega,l.LO-l.KO)+(l.KO==g.KO&&l.LO==g.LO?"Q 0,0 "+l.TQ:"Q 0,0 "+g.TQ+c(g.r,g.ega,g.LO-g.KO)+("Q 0,0 "+l.TQ))+"Z"}function b(a,c,d,e){var p=c.call(a,d,e);c=g.call(a,p,e);d=k.call(a,p,e)+vj;a=l.call(a,p,e)+vj;return{r:c,KO:d,LO:a,TQ:[c*Math.cos(d),c*Math.sin(d)],ega:[c*Math.cos(a),c*Math.sin(a)]}}function c(a,b,d){return"A"+a+","+a+" 0 "+ +(d>Math.PI)+",1 "+b}var d=ce,e=Wg,g=vg,k=Vg,l=Ah;a.z2=function(b){if(!arguments.length)return g;g=v(b);
return a};a.source=function(b){if(!arguments.length)return d;d=v(b);return a};a.target=function(b){if(!arguments.length)return e;e=v(b);return a};a.Ly=function(b){if(!arguments.length)return k;k=v(b);return a};a.Ax=function(b){if(!arguments.length)return l;l=v(b);return a};return a};Z.svg.Rca=function(){function a(e,g){var k=b.call(this,e,g);e=c.call(this,e,g);g=(k.y+e.y)/2;k=[k,{x:k.x,y:g},{x:e.x,y:g},e];k=k.map(d);return"M"+k[0]+"C"+k[1]+" "+k[2]+" "+k[3]}var b=ce,c=Wg,d=pi;a.source=function(c){if(!arguments.length)return b;
b=v(c);return a};a.target=function(b){if(!arguments.length)return c;c=v(b);return a};a.w2=function(b){if(!arguments.length)return d;d=b;return a};return a};Z.svg.Rca.zga=function(){var a=Z.svg.Rca(),b=pi,c=a.w2;a.w2=function(a){return arguments.length?c(bl(b=a)):b};return a};Z.svg.Wr=Z.Wr;Z.svg.touches=Z.touches;Z.svg.symbol=function(){function a(d,e){return(mq.get(b.call(this,d,e))||In)(c.call(this,d,e))}var b=fm,c=Hn;a.type=function(c){if(!arguments.length)return b;b=v(c);return a};a.size=function(b){if(!arguments.length)return c;
c=v(b);return a};return a};var mq=Z.map({circle:In,CXa:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},cYa:function(a){a=Math.sqrt(a/(2*nq));var b=a*nq;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},q1a:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/mk);var b=a*mk/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=
Math.sqrt(a/mk);var b=a*mk/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});Z.svg.w1a=mq.keys();var mk=Math.sqrt(3),nq=Math.tan(30*Math.PI/180);Z.svg.axis=function(){function a(x){x.Bg(function(){var a=Z.select(this),x=null==p?b.mh?b.mh.apply(b,l):b.domain():p,Ra=null==q?b.Ds?b.Ds.apply(b,l):String:q,J=wg(b,x,v),M=a.ag(".minor").data(J,String),J=M.Zj().ul("line","g").Ca("class","tick minor").style("opacity",1E-6),P=Z.transition(M.CH()).style("opacity",1E-6).remove(),M=Z.transition(M).style("opacity",
1),Qd=a.ag("g").data(x,String),x=Qd.Zj().ul("g","path").style("opacity",1E-6),T=Z.transition(Qd.CH()).style("opacity",1E-6).remove(),S=Z.transition(Qd).style("opacity",1),W,da=Re(b),a=a.ag(".domain").data([0]);a.Zj().append("path").Ca("class","domain");var a=Z.transition(a),Ga=b.Ai(),qq=this.oma||Ga;this.oma=Ga;x.append("line").Ca("class","tick");x.append("text");var Ha=x.select("line"),ya=S.select("line"),Ra=Qd.select("text").text(Ra),Qd=x.select("text"),Va=S.select("text");switch(c){case "bottom":W=
gm;J.Ca("y2",e);M.Ca("x2",0).Ca("y2",e);Ha.Ca("y2",d);Qd.Ca("y",Math.max(d,0)+k);ya.Ca("x2",0).Ca("y2",d);Va.Ca("x",0).Ca("y",Math.max(d,0)+k);Ra.Ca("dy",".71em").Ca("text-anchor","middle");a.Ca("d","M"+da[0]+","+g+"V0H"+da[1]+"V"+g);break;case "top":W=gm;J.Ca("y2",-e);M.Ca("x2",0).Ca("y2",-e);Ha.Ca("y2",-d);Qd.Ca("y",-(Math.max(d,0)+k));ya.Ca("x2",0).Ca("y2",-d);Va.Ca("x",0).Ca("y",-(Math.max(d,0)+k));Ra.Ca("dy","0em").Ca("text-anchor","middle");a.Ca("d","M"+da[0]+","+-g+"V0H"+da[1]+"V"+-g);break;
case "left":W=Dh;J.Ca("x2",-e);M.Ca("x2",-e).Ca("y2",0);Ha.Ca("x2",-d);Qd.Ca("x",-(Math.max(d,0)+k));ya.Ca("x2",-d).Ca("y2",0);Va.Ca("x",-(Math.max(d,0)+k)).Ca("y",0);Ra.Ca("dy",".32em").Ca("text-anchor","end");a.Ca("d","M"+-g+","+da[0]+"H0V"+da[1]+"H"+-g);break;case "right":W=Dh,J.Ca("x2",e),M.Ca("x2",e).Ca("y2",0),Ha.Ca("x2",d),Qd.Ca("x",Math.max(d,0)+k),ya.Ca("x2",d).Ca("y2",0),Va.Ca("x",Math.max(d,0)+k).Ca("y",0),Ra.Ca("dy",".32em").Ca("text-anchor","start"),a.Ca("d","M"+g+","+da[0]+"H0V"+da[1]+
"H"+g)}if(b.mh)x.call(W,qq),S.call(W,Ga),T.call(W,Ga),J.call(W,qq),M.call(W,Ga),P.call(W,Ga);else{var bb=Ga.wFa()/2,J=function(a){return Ga(a)+bb};x.call(W,J);S.call(W,J)}})}var b=Z.scale.Op(),c="bottom",d=6,e=6,g=6,k=3,l=[10],p=null,q,v=0;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.QQ=function(b){if(!arguments.length)return c;c=b;return a};a.mh=function(){if(!arguments.length)return l;l=arguments;return a};a.I1a=function(b){if(!arguments.length)return p;p=b;return a};a.Ds=function(b){if(!arguments.length)return q;
q=b;return a};a.G1a=function(b,c,k){if(!arguments.length)return d;var l=arguments.length-1;d=+b;e=1<l?+c:d;g=0<l?+arguments[l]:d;return a};a.F1a=function(b){if(!arguments.length)return k;k=+b;return a};a.H1a=function(b){if(!arguments.length)return v;v=+b;return a};return a};Z.svg.fXa=function(){function a(g){g.Bg(function(){var g=Z.select(this),q=g.ag(".background").data([0]),v=g.ag(".extent").data([0]),x=g.ag(".resize").data(p,String);g.style("pointer-events","all").O("mousedown.brush",e).O("touchstart.brush",
e);q.Zj().append("rect").Ca("class","background").style("visibility","hidden").style("cursor","crosshair");v.Zj().append("rect").Ca("class","extent").style("cursor","move");x.Zj().append("g").Ca("class",function(a){return"resize "+a}).style("cursor",function(a){return av[a]}).append("rect").Ca("x",function(a){return/[ew]$/.test(a)?-3:null}).Ca("y",function(a){return/^[ns]/.test(a)?-3:null}).Ca("width",6).Ca("height",6).style("visibility","hidden");x.style("display",a.empty()?"none":null);x.CH().remove();
k&&(v=Re(k),q.Ca("x",v[0]).Ca("width",v[1]-v[0]),c(g));l&&(v=Re(l),q.Ca("y",v[0]).Ca("height",v[1]-v[0]),d(g));b(g)})}function b(a){a.ag(".resize").Ca("transform",function(a){return"translate("+q[+/e$/.test(a)][0]+","+q[+/^s/.test(a)][1]+")"})}function c(a){a.select(".extent").Ca("x",q[0][0]);a.ag(".extent,.n\x3erect,.s\x3erect").Ca("width",q[1][0]-q[0][0])}function d(a){a.select(".extent").Ca("y",q[0][1]);a.ag(".extent,.e\x3erect,.w\x3erect").Ca("height",q[1][1]-q[0][1])}function e(){function p(){var a=
Z.event.changedTouches;return a?Z.touches(P,a)[0]:Z.Wr(P)}function x(){var a=p(),e=!1;Ha&&(a[0]+=Ha[0],a[1]+=Ha[1]);vi||(Z.event.altKey?(Ga||(Ga=[(q[0][0]+q[1][0])/2,(q[0][1]+q[1][1])/2]),ya[0]=q[+(a[0]<Ga[0])][0],ya[1]=q[+(a[1]<Ga[1])][1]):Ga=null);bo&&J(a,k,0)&&(c(S),e=!0);da&&J(a,l,1)&&(d(S),e=!0);e&&(b(S),T({type:"brush",mode:vi?"move":"resize"}))}function J(a,b,c){var d=Re(b);b=d[0];var e=d[1],d=ya[c],g=q[1][c]-q[0][c];vi&&(b-=d,e-=g+d);a=Math.max(b,Math.min(e,a[c]));vi?b=(a+=d)+g:(Ga&&(d=Math.max(b,
Math.min(e,2*Ga[c]-a))),d<a?(b=a,a=d):b=d);if(q[0][c]!==a||q[1][c]!==b)return v=null,q[0][c]=a,q[1][c]=b,!0}function M(){x();S.style("pointer-events","all").ag(".resize").style("display",a.empty()?"none":null);Z.select("body").style("cursor",null);Va.O("mousemove.brush",null).O("mouseup.brush",null).O("touchmove.brush",null).O("touchend.brush",null).O("keydown.brush",null).O("keyup.brush",null);T({type:"brushend"});Ob()}var P=this,cg=Z.select(Z.event.target),T=g.of(P,arguments),S=Z.select(P),W=cg.rAa(),
bo=!/^(n|s)$/.test(W)&&k,da=!/^(e|w)$/.test(W)&&l,vi=cg.ZO("extent"),Ga,ya=p(),Ha,Va=Z.select(window).O("mousemove.brush",x).O("mouseup.brush",M).O("touchmove.brush",x).O("touchend.brush",M).O("keydown.brush",function(){32==Z.event.keyCode&&(vi||(Ga=null,ya[0]-=q[1][0],ya[1]-=q[1][1],vi=2),Ob())}).O("keyup.brush",function(){32==Z.event.keyCode&&2==vi&&(ya[0]+=q[1][0],ya[1]+=q[1][1],vi=0,Ob())});if(vi)ya[0]=q[0][0]-ya[0],ya[1]=q[0][1]-ya[1];else if(W){var bb=+/w$/.test(W),W=+/^n/.test(W);Ha=[q[1-bb][0]-
ya[0],q[1-W][1]-ya[1]];ya[0]=q[bb][0];ya[1]=q[W][1]}else Z.event.altKey&&(Ga=ya.slice());S.style("pointer-events","none").ag(".resize").style("display",null);Z.select("body").style("cursor",cg.style("cursor"));T({type:"brushstart"});x();Ob()}var g=Pf(a,"brushstart","brush","brushend"),k=null,l=null,p=bv[0],q=[[0,0],[0,0]],v;a.x=function(b){if(!arguments.length)return k;k=b;p=bv[!k<<1|!l];return a};a.y=function(b){if(!arguments.length)return l;l=b;p=bv[!k<<1|!l];return a};a.rP=function(b){var c,d,
e,g,p;if(!arguments.length)return b=v||q,k&&(c=b[0][0],d=b[1][0],v||(c=q[0][0],d=q[1][0],k.Tf&&(c=k.Tf(c),d=k.Tf(d)),d<c&&(p=c,c=d,d=p))),l&&(e=b[0][1],g=b[1][1],v||(e=q[0][1],g=q[1][1],l.Tf&&(e=l.Tf(e),g=l.Tf(g)),g<e&&(p=e,e=g,g=p))),k&&l?[[c,e],[d,g]]:k?[c,d]:l&&[e,g];v=[[0,0],[0,0]];k&&(c=b[0],d=b[1],l&&(c=c[0],d=d[0]),v[0][0]=c,v[1][0]=d,k.Tf&&(c=k(c),d=k(d)),d<c&&(p=c,c=d,d=p),q[0][0]=c|0,q[1][0]=d|0);l&&(e=b[0],g=b[1],k&&(e=e[1],g=g[1]),v[0][1]=e,v[1][1]=g,l.Tf&&(e=l(e),g=l(g)),g<e&&(p=e,e=
g,g=p),q[0][1]=e|0,q[1][1]=g|0);return a};a.clear=function(){v=null;q[0][0]=q[0][1]=q[1][0]=q[1][1]=0;return a};a.empty=function(){return k&&q[0][0]===q[1][0]||l&&q[0][1]===q[1][1]};return Z.Xu(a,g,"on")};var av={n:"ns-resize",e:"ew-resize",zy:"ns-resize",$Ga:"ew-resize",R_a:"nwse-resize",M_a:"nesw-resize",S0a:"nwse-resize",v1a:"nesw-resize"},bv=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]];Z.behavior={};Z.behavior.Zca=function(){function a(){this.O("mousedown.drag",b).O("touchstart.drag",
b)}function b(){function a(){var b=k.parentNode;return q?Z.touches(b).filter(function(a){return a.identifier===q})[0]:Z.Wr(b)}function e(){l({type:"dragend"});Ra&&(Ob(),Z.event.target===p&&J.O("click.drag",g,!0));J.O(q?"touchmove.drag-"+q:"mousemove.drag",null).O(q?"touchend.drag-"+q:"mouseup.drag",null)}function g(){Ob();J.O("click.drag",null)}var k=this,l=c.of(k,arguments),p=Z.event.target,q=Z.event.touches&&Z.event.changedTouches[0].identifier,v,x=a(),Ra=0,J=Z.select(window).O(q?"touchmove.drag-"+
q:"mousemove.drag",function(){if(!k.parentNode)return e();var b=a(),c=b[0]-x[0],d=b[1]-x[1];Ra|=c|d;x=b;Ob();l({type:"drag",x:b[0]+v[0],y:b[1]+v[1],mf:c,Pf:d})}).O(q?"touchend.drag-"+q:"mouseup.drag",e,!0);d?(v=d.apply(k,arguments),v=[v.x-x[0],v.y-x[1]]):v=[0,0];q||Ob();l({type:"dragstart"})}var c=Pf(a,"drag","dragstart","dragend"),d=null;a.origin=function(b){if(!arguments.length)return d;d=b;return a};return Z.Xu(a,c,"on")};Z.behavior.zoom=function(){function a(){this.O("mousedown.zoom",g).O("mousewheel.zoom",
k).O("mousemove.zoom",l).O("DOMMouseScroll.zoom",k).O("dblclick.zoom",p).O("touchstart.zoom",q).O("touchmove.zoom",v).O("touchend.zoom",q)}function b(a){return[(a[0]-x[0])/M,(a[1]-x[1])/M]}function c(a){M=Math.max(T[0],Math.min(T[1],a))}function d(a,b){b=[b[0]*M+x[0],b[1]*M+x[1]];x[0]+=a[0]-b[0];x[1]+=a[1]-b[1]}function e(a){da&&da.domain(W.range().map(function(a){return(a-x[0])/M}).map(W.Tf));Ga&&Ga.domain(ya.range().map(function(a){return(a-x[1])/M}).map(ya.Tf));Z.event.preventDefault();a({type:"zoom",
scale:M,translate:x})}function g(){function a(){Ob();q.O("click.zoom",null)}var c=this,k=S.of(c,arguments),l=Z.event.target,p=0,q=Z.select(window).O("mousemove.zoom",function(){p=1;d(Z.Wr(c),v);e(k)}).O("mouseup.zoom",function(){p&&Ob();q.O("mousemove.zoom",null).O("mouseup.zoom",null);p&&Z.event.target===l&&q.O("click.zoom",a,!0)}),v=b(Z.Wr(c));window.focus();Ob()}function k(){J||(J=b(Z.Wr(this)));c(Math.pow(2,.002*Ip())*M);d(Z.Wr(this),J);e(S.of(this,arguments))}function l(){J=null}function p(){var a=
Z.Wr(this),g=b(a);c(Z.event.shiftKey?M/2:2*M);d(a,g);e(S.of(this,arguments))}function q(){var a=Z.touches(this),g=Date.now();P=M;J={};a.forEach(function(a){J[a.identifier]=b(a)});Ob();if(1===a.length){if(500>g-jH){var k=a[0],a=b(a[0]);c(2*M);d(k,a);e(S.of(this,arguments))}jH=g}}function v(){var a=Z.touches(this),b=a[0],g=J[b.identifier];if(a=a[1]){var k=J[a.identifier],b=[(b[0]+a[0])/2,(b[1]+a[1])/2],g=[(g[0]+k[0])/2,(g[1]+k[1])/2];c(Z.event.scale*P)}d(b,g);jH=null;e(S.of(this,arguments))}var x=[0,
0],J,M=1,P,T=dA,S=Pf(a,"zoom"),W,da,ya,Ga,jH;a.translate=function(b){if(!arguments.length)return x;x=b.map(Number);return a};a.scale=function(b){if(!arguments.length)return M;M=+b;return a};a.Q0a=function(b){if(!arguments.length)return T;T=null==b?dA:b.map(Number);return a};a.x=function(b){if(!arguments.length)return da;da=b;W=b.Ai();return a};a.y=function(b){if(!arguments.length)return Ga;Ga=b;ya=b.Ai();return a};return Z.Xu(a,S,"on")};var oq,dA=[0,window.Infinity];Z.layout={};Z.layout.Sza=function(){return function(a){for(var b=
[],c=-1,d=a.length;++c<d;)b.push(rF(a[c]));return b}};Z.layout.Yza=function(){function a(){var c={},x=[],J=Z.range(k),Ra=[],M,P,Zg,T,S;d=[];e=[];M=0;for(T=-1;++T<k;){P=0;for(S=-1;++S<k;)P+=g[T][S];x.push(P);Ra.push(Z.range(k));M+=P}p&&J.sort(function(a,b){return p(x[a],x[b])});q&&Ra.forEach(function(a,b){a.sort(function(a,c){return q(g[b][a],g[b][c])})});M=(2*Math.PI-l*k)/M;P=0;for(T=-1;++T<k;){Zg=P;for(S=-1;++S<k;){var W=J[T],da=Ra[W][S],ya=g[W][da],Ga=P,Va=P+=ya*M;c[W+"-"+da]={index:W,t1a:da,Ly:Ga,
Ax:Va,value:ya}}e[W]={index:W,Ly:Zg,Ax:P,value:(P-Zg)/M};P+=l}for(T=-1;++T<k;)for(S=T-1;++S<k;)J=c[T+"-"+S],Ra=c[S+"-"+T],(J.value||Ra.value)&&d.push(J.value<Ra.value?{source:Ra,target:J}:{source:J,target:Ra});v&&b()}function b(){d.sort(function(a,b){return v((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,g,k,l=0,p,q,v;c.matrix=function(a){if(!arguments.length)return g;k=(g=a)&&g.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return l;l=a;
d=e=null;return c};c.k1a=function(a){if(!arguments.length)return p;p=a;d=e=null;return c};c.m1a=function(a){if(!arguments.length)return q;q=a;d=null;return c};c.j1a=function(a){if(!arguments.length)return v;v=a;d&&b();return c};c.rXa=function(){d||a();return d};c.FYa=function(){e||a();return e};return c};Z.layout.force=function(){function a(b){return function(a,c,d,e){if(a.point!==b){d=a.Ica-b.x;var g=a.Jca-b.y,k=1/Math.sqrt(d*d+g*g);if((e-c)*k<P)return c=a.charge*k*k,b.as-=d*c,b.bs-=g*c,!0;a.point&&
(0,window.isFinite)(k)&&(c=a.hFa*k*k,b.as-=d*c,b.bs-=g*c)}return!a.charge}}function b(a){a.as=Z.event.x;a.bs=Z.event.y;c.$I()}var c={},d=Z.Tca("start","tick","end"),e=[1,1],g,k,p=.9,q=sF,x=Jp,J=-30,M=.1,P=.8,T=[],S=[],W,da,ya;c.Eha=function(){if(.005>(k*=.99))return d.end({type:"end",alpha:k=0}),!0;var b=T.length,c=S.length,g,l,q,v,x,P,kd;for(g=0;g<c;++g)if(l=S[g],q=l.source,v=l.target,P=v.x-q.x,kd=v.y-q.y,x=P*P+kd*kd)x=k*da[g]*((x=Math.sqrt(x))-W[g])/x,P*=x,kd*=x,v.x-=P*(x=q.weight/(v.weight+q.weight)),
v.y-=kd*x,q.x+=P*(x=1-x),q.y+=kd*x;if(x=k*M)if(P=e[0]/2,kd=e[1]/2,g=-1,x)for(;++g<b;)l=T[g],l.x+=(P-l.x)*x,l.y+=(kd-l.y)*x;if(J)for(hm(c=Z.Hn.vFa(T),k,ya),g=-1;++g<b;)(l=T[g]).fixed||c.ZGa(a(l));for(g=-1;++g<b;)l=T[g],l.fixed?(l.x=l.as,l.y=l.bs):(l.x-=(l.as-(l.as=l.x))*p,l.y-=(l.bs-(l.bs=l.y))*p);d.Eha()};c.Tu=function(a){if(!arguments.length)return T;T=a;return c};c.links=function(a){if(!arguments.length)return S;S=a;return c};c.size=function(a){if(!arguments.length)return e;e=a;return c};c.WDa=
function(a){if(!arguments.length)return q;q=v(a);return c};c.Yj=c.WDa;c.m_a=function(a){if(!arguments.length)return x;x=v(a);return c};c.rYa=function(a){if(!arguments.length)return p;p=a;return c};c.charge=function(a){if(!arguments.length)return J;J="function"===typeof a?a:+a;return c};c.AYa=function(a){if(!arguments.length)return M;M=a;return c};c.C1a=function(a){if(!arguments.length)return P;P=a;return c};c.alpha=function(a){if(!arguments.length)return k;k?k=0<a?a:0:0<a&&(d.start({type:"start",
alpha:k=a}),Z.CJ(c.Eha));return c};c.start=function(){function a(c,e){var l;if(!v){v=[];for(d=0;d<g;++d)v[d]=[];for(d=0;d<k;++d)l=S[d],v[l.source.index].push(l.target),v[l.target.index].push(l.source)}l=v[b];for(var p=-1,q=l.length,x;++p<q;)if(!(0,window.isNaN)(x=l[p][c]))return x;return Math.random()*e}var b,d,g=T.length,k=S.length,l=e[0],p=e[1],v,Ra;for(b=0;b<g;++b)(Ra=T[b]).index=b,Ra.weight=0;W=[];da=[];for(b=0;b<k;++b)Ra=S[b],"number"==typeof Ra.source&&(Ra.source=T[Ra.source]),"number"==typeof Ra.target&&
(Ra.target=T[Ra.target]),W[b]=q.call(this,Ra,b),da[b]=x.call(this,Ra,b),++Ra.source.weight,++Ra.target.weight;for(b=0;b<g;++b)Ra=T[b],(0,window.isNaN)(Ra.x)&&(Ra.x=a("x",l)),(0,window.isNaN)(Ra.y)&&(Ra.y=a("y",p)),(0,window.isNaN)(Ra.as)&&(Ra.as=Ra.x),(0,window.isNaN)(Ra.bs)&&(Ra.bs=Ra.y);ya=[];if("function"===typeof J)for(b=0;b<g;++b)ya[b]=+J.call(this,T[b],b);else for(b=0;b<g;++b)ya[b]=J;return c.$I()};c.$I=function(){return c.alpha(.1)};c.stop=function(){return c.alpha(0)};c.Zca=function(){g||
(g=Z.behavior.Zca().origin(l).O("dragstart",Jn).O("drag",b).O("dragend",wy));this.O("mouseover.force",cl).O("mouseout.force",Kn).call(g)};return Z.Xu(c,d,"on")};Z.layout.j0a=function(){function a(b,c,d,e){var g=b.children,k;b.x=c;b.y=b.depth*e;b.mf=d;b.Pf=e;if(g&&(k=g.length)){var l=-1,p;for(d=b.value?d/b.value:0;++l<k;)a(p=g[l],c,b=p.value*d,e),c+=b}}function b(a){a=a.children;var c=0,d;if(a&&(d=a.length))for(var e=-1;++e<d;)c=Math.max(c,b(a[e]));return 1+c}function c(g,k){g=d.call(this,g,k);a(g[0],
0,e[0],e[1]/b(g[0]));return g}var d=Z.layout.eI(),e=[1,1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return Fh(c,d)};Z.layout.m0a=function(){function a(g,k){var l=g.map(function(c,d){return+b.call(a,c,d)}),p=+("function"===typeof d?d.apply(this,arguments):d),q=(("function"===typeof e?e.apply(this,arguments):e)-d)/Z.wGa(l),v=Z.range(g.length);null!=c&&v.sort(c===XG?function(a,b){return l[b]-l[a]}:function(a,b){return c(g[a],g[b])});var x=[];v.forEach(function(a){var b;x[a]={data:g[a],
value:b=l[a],Ly:p,Ax:p+=b*q}});return x}var b=Number,c=XG,d=0,e=2*Math.PI;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.Ly=function(b){if(!arguments.length)return d;d=b;return a};a.Ax=function(b){if(!arguments.length)return e;e=b;return a};return a};var XG={};Z.layout.stack=function(){function a(l,p){var q=l.map(function(c,d){return b.call(a,c,d)}),v=q.map(function(b){return b.map(function(b,c){return[g.call(a,b,c),
k.call(a,b,c)]})}),x=c.call(a,v,p),q=Z.lga(q,x),v=Z.lga(v,x);p=d.call(a,v,p);var x=q.length,J=q[0].length,M,P,T;for(P=0;P<J;++P)for(e.call(a,q[0][P],T=p[P],v[0][P][1]),M=1;M<x;++M)e.call(a,q[M][P],T+=v[M-1][P][1],v[M][P][1]);return l}var b=l,c=pj,d=qi,e=dl,g=Be,k=Zf;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=function(b){if(!arguments.length)return c;c="function"===typeof b?b:Mc.get(b)||pj;return a};a.offset=function(b){if(!arguments.length)return d;d="function"===typeof b?
b:ui.get(b)||qi;return a};a.x=function(b){if(!arguments.length)return g;g=b;return a};a.y=function(b){if(!arguments.length)return k;k=b;return a};a.XEa=function(b){if(!arguments.length)return e;e=b;return a};return a};var Mc=Z.map({"inside-out":function(a){var b=a.length,c,d=a.map(el),e=a.map(Kp),g=Z.range(b).sort(function(a,b){return d[a]-d[b]}),k=0,l=0,p=[],q=[];for(a=0;a<b;++a)c=g[a],k<l?(k+=e[c],p.push(c)):(l+=e[c],q.push(c));return q.reverse().concat(p)},reverse:function(a){return Z.range(a.length).reverse()},
"default":pj}),ui=Z.map({c1a:function(a){var b=a.length,c=a[0].length,d=[],e=0,g,k,l,p=[];for(k=0;k<c;++k){for(l=g=0;g<b;g++)l+=a[g][k][1];l>e&&(e=l);d.push(l)}for(k=0;k<c;++k)p[k]=(e-d[k])/2;return p},c2a:function(a){var b=a.length,c=a[0],d=c.length,e,g,k,l,p,q,v,x,J,M=[];M[0]=x=J=0;for(g=1;g<d;++g){for(l=e=0;e<b;++e)l+=a[e][g][1];p=e=0;for(v=c[g][0]-c[g-1][0];e<b;++e){k=0;for(q=(a[e][g][1]-a[e][g-1][1])/(2*v);k<e;++k)q+=(a[k][g][1]-a[k][g-1][1])/v;p+=q*a[e][g][1]}M[g]=x-=l?p/l*v:0;x<J&&(J=x)}for(g=
0;g<d;++g)M[g]-=J;return M},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,g,k,l=[];for(g=0;g<c;++g){for(k=e=0;e<b;e++)k+=a[e][g][1];if(k)for(e=0;e<b;e++)a[e][g][1]/=k;else for(e=0;e<b;e++)a[e][g][1]=d}for(g=0;g<c;++g)l[g]=0;return l},l2a:qi});Z.layout.PYa=function(){function a(g,k){var l=[],p=g.map(c,this),q=d.call(this,p,k),v=e.call(this,q,p,k),x,J=p.length,Ra=v.length-1,M=b?1:1/J;for(k=-1;++k<Ra;)x=l[k]=[],x.mf=v[k+1]-(x.x=v[k]),x.y=0;if(0<Ra)for(k=-1;++k<J;)x=p[k],x>=q[0]&&x<=q[1]&&(x=
l[Z.bu(v,x,1,Ra)-1],x.y+=M,x.push(g[k]));return l}var b=!0,c=Number,d=Eh,e=yy;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;d=v(b);return a};a.VWa=function(b){if(!arguments.length)return e;e="number"===typeof b?function(a){return pt(a,b)}:v(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};Z.layout.eI=function(){function a(b,k,l){var p=e.call(c,b,k),q=Pd?b:{data:b},v;q.depth=k;l.push(q);
if(p&&(v=p.length)){b=-1;var x=q.children=[],J=0;k+=1;for(var M;++b<v;)M=a(p[b],k,l),M.parent=q,x.push(M),J+=M.value;d&&x.sort(d);g&&(q.value=J)}else g&&(q.value=+g.call(c,b,k)||0);return q}function b(a,d){var e=a.children,k=0,l;if(e&&(l=e.length)){var p=-1;for(d+=1;++p<l;)k+=b(e[p],d)}else g&&(k=+g.call(c,Pd?a:a.data,d)||0);g&&(a.value=k);return k}function c(b){var d=[];a(b,0,d);return d}var d=By,e=zy,g=Ay;c.sort=function(a){if(!arguments.length)return d;d=a;return c};c.children=function(a){if(!arguments.length)return e;
e=a;return c};c.value=function(a){if(!arguments.length)return g;g=a;return c};c.EFa=function(a){b(a,0)};return c};var Pd=!1;Z.layout.d0a=function(){function a(e,g){e=b.call(this,e,g);g=e[0];g.x=0;g.y=0;ri(g,function(a){a.r=Math.sqrt(a.value)});ri(g,Mp);var k=d[0],l=d[1],p=Math.max(2*g.r/k,2*g.r/l);if(0<c){var q=c*p/2;ri(g,function(a){a.r+=q});ri(g,Mp);ri(g,function(a){a.r-=q});p=Math.max(2*g.r/k,2*g.r/l)}Ln(g,k/2,l/2,1/p);return e}var b=Z.layout.eI().sort(Cy),c=0,d=[1,1];a.size=function(b){if(!arguments.length)return d;
d=b;return a};a.padding=function(b){if(!arguments.length)return c;c=+b;return a};return Fh(a,b)};Z.layout.tXa=function(){function a(e,g){e=b.call(this,e,g);var k=e[0],l,p=0;ri(k,function(a){var b=a.children;b&&b.length?(a.x=Fy(b),a.y=Np(b)):(a.x=l?p+=c(a,l):0,a.y=0,l=a)});g=qj(k);var q=gl(k),v=g.x-c(g,q)/2,x=q.x+c(q,g)/2;ri(k,function(a){a.x=(a.x-v)/(x-v)*d[0];a.y=(1-(k.y?a.y/k.y:1))*d[1]});return e}var b=Z.layout.eI().sort(null).value(null),c=Mn,d=[1,1];a.RFa=function(b){if(!arguments.length)return c;
c=b;return a};a.size=function(b){if(!arguments.length)return d;d=b;return a};return Fh(a,b)};Z.layout.N1a=function(){function a(e,g){function k(a,b){var d=a.children,e=a.Bd,g;if(d&&(g=d.length)){for(var l=d[0],p,q=l,v,x=-1;++x<g;){v=d[x];k(v,p);var J=v;if(p){for(var M=J,Ra=J,P=J.parent.children[0],T=M.Bd.Jh,kd=Ra.Bd.Jh,S=p.Bd.Jh,W=P.Bd.Jh,$g;p=Gh(p),M=qt(M),p&&M;){P=qt(P);Ra=Gh(Ra);Ra.Bd.d_=J;$g=p.Bd.Oi+S-M.Bd.Oi-T+c(p,M);if(0<$g){var Qd=p.Bd.d_.parent==J.parent?p.Bd.d_:q,da=J,cg=$g,Qd=Qd.Bd,da=da.Bd,
gH=cg/(da.number-Qd.number);Qd.tH+=gH;da.tH-=gH;da.shift+=cg;da.Oi+=cg;da.Jh+=cg;T+=$g;kd+=$g}S+=p.Bd.Jh;T+=M.Bd.Jh;W+=P.Bd.Jh;kd+=Ra.Bd.Jh}p&&!Gh(Ra)&&(Ra.Bd.U3=p,Ra.Bd.Jh+=S-kd);M&&!qt(P)&&(P.Bd.U3=M,P.Bd.Jh+=T-W,q=J)}p=v}g=d=0;x=a.children;for(J=x.length;0<=--J;)q=x[J].Bd,q.Oi+=d,q.Jh+=d,d+=q.shift+(g+=q.tH);l=.5*(l.Bd.Oi+v.Bd.Oi);b?(e.Oi=b.Bd.Oi+c(a,b),e.Jh=e.Oi-l):e.Oi=l}else b&&(e.Oi=b.Bd.Oi+c(a,b))}function l(a,b){a.x=a.Bd.Oi+b;var c=a.children,d;if(c&&(d=c.length)){var e=-1;for(b+=a.Bd.Jh;++e<
d;)l(c[e],b)}}e=b.call(this,e,g);g=e[0];ri(g,function(a,b){a.Bd={d_:a,Oi:0,Jh:0,tH:0,shift:0,number:b?b.Bd.number+1:0}});k(g);l(g,-g.Bd.Oi);var p=Nn(g,Op),q=Nn(g,rt),v=Nn(g,im),x=p.x-c(p,q)/2,J=q.x+c(q,p)/2,M=v.depth||1;ri(g,function(a){a.x=(a.x-x)/(J-x)*d[0];a.y=a.depth/M*d[1];delete a.Bd});return e}var b=Z.layout.eI().sort(null).value(null),c=Mn,d=[1,1];a.RFa=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return d;d=b;return a};return Fh(a,b)};Z.layout.O1a=
function(){function a(b,c){for(var d=-1,e=b.length,g,k;++d<e;)k=(g=b[d]).value*(0>c?0:c),g.Vd=(0,window.isNaN)(k)||0>=k?0:k}function b(c){var e=c.children;if(e&&e.length){var g=q(c),k=[],l=e.slice(),p=window.Infinity,v=Math.min(g.mf,g.Pf);a(l,g.mf*g.Pf/c.value);for(k.Vd=0;0<(c=l.length);){k.push(c=l[c-1]);k.Vd+=c.Vd;c=v;for(var x=k.Vd,M,P=0,T=window.Infinity,S=-1,W=k.length;++S<W;)if(M=k[S].Vd)M<T&&(T=M),M>P&&(P=M);x*=x;c*=c;(c=x?Math.max(c*P*J/x,x/(c*T*J)):window.Infinity)<=p?(l.pop(),p=c):(k.Vd-=
k.pop().Vd,d(k,v,g,!1),v=Math.min(g.mf,g.Pf),k.length=k.Vd=0,p=window.Infinity)}k.length&&(d(k,v,g,!0),k.length=k.Vd=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var g=q(b),k=e.slice(),l=[];a(k,g.mf*g.Pf/b.value);for(l.Vd=0;b=k.pop();)l.push(b),l.Vd+=b.Vd,null!=b.z&&(d(l,b.z?g.mf:g.Pf,g,!k.length),l.length=l.Vd=0);e.forEach(c)}}function d(a,b,c,e){var g=-1,l=a.length,p=c.x,q=c.y,v=b?k(a.Vd/b):0,x;if(b==c.mf){if(e||v>c.Pf)v=c.Pf;for(;++g<l;)x=a[g],x.x=p,x.y=q,x.Pf=v,p+=x.mf=Math.min(c.x+
c.mf-p,v?k(x.Vd/v):0);x.z=!0;x.mf+=c.x+c.mf-p;c.y+=v;c.Pf-=v}else{if(e||v>c.mf)v=c.mf;for(;++g<l;)x=a[g],x.x=p,x.y=q,x.mf=v,q+=x.Pf=Math.min(c.y+c.Pf-q,v?k(x.Vd/v):0);x.z=!1;x.Pf+=c.y+c.Pf-q;c.x+=v;c.mf-=v}}function e(d){d=x||g(d);var k=d[0];k.x=0;k.y=0;k.mf=l[0];k.Pf=l[1];x&&g.EFa(k);a([k],k.mf*k.Pf/k.value);(x?c:b)(k);v&&(x=d);return d}var g=Z.layout.eI(),k=Math.round,l=[1,1],p=null,q=On,v=!1,x,J=.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return l;l=a;return e};e.padding=function(a){function b(c){var d=
a.call(e,c,c.depth);return null==d?On(c):Pp(c,"number"===typeof d?[d,d,d,d]:d)}function c(b){return Pp(b,a)}if(!arguments.length)return p;var d;q=null==(p=a)?On:"function"===(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return k!=Number;k=a?Math.round:Number;return e};e.xha=function(a){if(!arguments.length)return v;v=a;x=null;return e};e.ratio=function(a){if(!arguments.length)return J;J=a;return e};return Fh(e,g)};Z.csv=Qp(",","text/csv");Z.P1a=Qp(" ",
"text/tab-separated-values");Z.Ch={};var ac=Math.PI/180;Z.Ch.OWa=function(){function a(c){var k=c[0]*ac-g,q=c[1]*ac;c=Math.cos(k);var k=Math.sin(k),v=Math.cos(q),q=Math.sin(q),x="orthographic"!==b?p*q+l*v*c:null,J,x="stereographic"===b?1/(1+x):"gnomonic"===b?1/x:"equidistant"===b?(J=Math.acos(x),J?J/Math.sin(J):0):"equalarea"===b?Math.sqrt(2/(1+x)):1;return[d*x*v*k+e[0],d*x*(p*v*c-l*q)+e[1]]}var b="orthographic",c,d=200,e=[480,250],g,k,l,p;a.Tf=function(a){var c=(a[0]-e[0])/d;a=(a[1]-e[1])/d;var k=
Math.sqrt(c*c+a*a),q="stereographic"===b?2*Math.atan(k):"gnomonic"===b?Math.atan(k):"equidistant"===b?k:"equalarea"===b?2*Math.asin(.5*k):Math.asin(k),v=Math.sin(q),q=Math.cos(q);return[(g+Math.atan2(c*v,k*l*q+a*p*v))/ac,Math.asin(q*p-(k?a*v*l/k:0))/ac]};a.mode=function(c){if(!arguments.length)return b;b=c+"";return a};a.origin=function(b){if(!arguments.length)return c;c=b;g=c[0]*ac;k=c[1]*ac;l=Math.cos(k);p=Math.sin(k);return a};a.scale=function(b){if(!arguments.length)return d;d=+b;return a};a.translate=
function(b){if(!arguments.length)return e;e=[+b[0],+b[1]];return a};return a.origin([0,0])};Z.Ch.NO=function(){function a(b){var c=l*(ac*b[0]-k);b=Math.sqrt(p-2*l*Math.sin(ac*b[1]))/l;return[e*b*Math.sin(c)+g[0],e*(b*Math.cos(c)-q)+g[1]]}function b(){var e=ac*d[0],g=ac*d[1],v=ac*c[1],x=Math.sin(e),e=Math.cos(e);k=ac*c[0];l=.5*(x+Math.sin(g));p=e*e+2*l*x;q=Math.sqrt(p-2*l*Math.sin(v))/l;return a}var c=[-98,38],d=[29.5,45.5],e=1E3,g=[480,250],k,l,p,q;a.Tf=function(a){var b=(a[0]-g[0])/e;a=q+(a[1]-g[1])/
e;var c=Math.sqrt(b*b+a*a);return[(k+Math.atan2(b,a)/l)/ac,Math.asin((p-c*c*l*l)/(2*l))/ac]};a.origin=function(a){if(!arguments.length)return c;c=[+a[0],+a[1]];return b()};a.W1=function(a){if(!arguments.length)return d;d=[+a[0],+a[1]];return b()};a.scale=function(b){if(!arguments.length)return e;e=+b;return a};a.translate=function(b){if(!arguments.length)return g;g=[+b[0],+b[1]];return a};return b()};Z.Ch.sza=function(){function a(g){var k=g[0],l=g[1];return(50<l?c:-140>k?d:21>l?e:b)(g)}var b=Z.Ch.NO(),
c=Z.Ch.NO().origin([-160,60]).W1([55,65]),d=Z.Ch.NO().origin([-160,20]).W1([8,18]),e=Z.Ch.NO().origin([-60,10]).W1([8,18]);a.scale=function(g){if(!arguments.length)return b.scale();b.scale(g);c.scale(.6*g);d.scale(g);e.scale(1.5*g);return a.translate(b.translate())};a.translate=function(g){if(!arguments.length)return b.translate();var k=b.scale()/1E3,l=g[0],p=g[1];b.translate(g);c.translate([l-400*k,p+170*k]);d.translate([l-190*k,p+200*k]);e.translate([l+580*k,p+430*k]);return a};return a.scale(b.scale())};
Z.Ch.bXa=function(){function a(l){var p=l[0]*ac-d,q=l[1]*ac-e;g?(l=k+g-q,q=p*Math.cos(q)/l,p=l*Math.sin(q),q=l*Math.cos(q)-k):(p*=Math.cos(q),q*=-1);return[b*p+c[0],b*q+c[1]]}var b=200,c=[480,250],d,e,g,k;a.Tf=function(a){var e=(a[0]-c[0])/b;a=(a[1]-c[1])/b;if(g){var l=k+a,p=Math.sqrt(e*e+l*l);a=k+g-p;e=d+p*Math.atan2(e,l)/Math.cos(a)}else a*=-1,e/=Math.cos(a);return[e/ac,a/ac]};a.$Ea=function(b){if(!arguments.length)return g/ac;k=1/Math.tan(g=b*ac);return a};a.origin=function(b){if(!arguments.length)return[d/
ac,e/ac];d=b[0]*ac;e=b[1]*ac;return a};a.scale=function(c){if(!arguments.length)return b;b=+c;return a};a.translate=function(b){if(!arguments.length)return c;c=[+b[0],+b[1]];return a};return a.origin([0,0]).$Ea(45)};Z.Ch.kYa=function(){function a(d){return[d[0]/360*b+c[0],-d[1]/360*b+c[1]]}var b=500,c=[480,250];a.Tf=function(a){return[(a[0]-c[0])/b*360,(a[1]-c[1])/b*-360]};a.scale=function(c){if(!arguments.length)return b;b=+c;return a};a.translate=function(b){if(!arguments.length)return c;c=[+b[0],
+b[1]];return a};return a};Z.Ch.E_a=function(){function a(d){return[d[0]/360*b+c[0],b*Math.max(-.5,Math.min(.5,-(Math.log(Math.tan(Math.PI/4+d[1]*ac/2))/ac)/360))+c[1]]}var b=500,c=[480,250];a.Tf=function(a){return[(a[0]-c[0])/b*360,2*Math.atan(Math.exp((a[1]-c[1])/b*-360*ac))/ac-90]};a.scale=function(c){if(!arguments.length)return b;b=+c;return a};a.translate=function(b){if(!arguments.length)return c;c=[+b[0],+b[1]];return a};return a};Z.Ch.path=function(){function a(b,c){"function"===typeof e&&
(g=Ru(e.apply(this,arguments)));p(b);var d=l.length?l.join(""):null;l=[];return d}function b(a){return k(a).join(",")}function c(a){for(var b=Math.abs(Z.Hn.ZQ(a[0].map(k)).Vd()),d=0,e=a.length;++d<e;)b-=Math.abs(Z.Hn.ZQ(a[d].map(k)).Vd());return b}function d(a){for(var b=Z.Hn.ZQ(a[0].map(k)),c=b.Vd(),b=b.YO(0>c?(c*=-1,1):-1),e=b[0],g=b[1],l=c,p=0,q=a.length;++p<q;)b=Z.Hn.ZQ(a[p].map(k)),c=b.Vd(),b=b.YO(0>c?(c*=-1,1):-1),e-=b[0],g-=b[1],l-=c;return[e,g,6*l]}var e=4.5,g=Ru(e),k=Z.Ch.sza(),l=[],p=Qu({uS:function(a){a=
a.features;for(var b=-1,c=a.length;++b<c;)l.push(p(a[b].Ex))},fK:function(a){p(a.Ex)},g6:function(a){l.push("M",b(a.Ne),g)},E5:function(a){a=a.Ne;for(var c=-1,d=a.length;++c<d;)l.push("M",b(a[c]),g)},y5:function(a){a=a.Ne;var c=-1,d=a.length;for(l.push("M");++c<d;)l.push(b(a[c]),"L");l.pop()},D5:function(a){a=a.Ne;for(var c=-1,d=a.length,e,g,k;++c<d;){e=a[c];g=-1;k=e.length;for(l.push("M");++g<k;)l.push(b(e[g]),"L");l.pop()}},IK:function(a){a=a.Ne;for(var c=-1,d=a.length,e,g,k;++c<d;)if(e=a[c],g=
-1,0<(k=e.length-1)){for(l.push("M");++g<k;)l.push(b(e[g]),"L");l[l.length-1]="Z"}},AK:function(a){a=a.Ne;for(var c=-1,d=a.length,e,g,k,p,q,v;++c<d;)for(e=a[c],g=-1,k=e.length;++g<k;)if(p=e[g],q=-1,0<(v=p.length-1)){for(l.push("M");++q<v;)l.push(b(p[q]),"L");l[l.length-1]="Z"}},xS:function(a){a=a.vP;for(var b=-1,c=a.length;++b<c;)l.push(p(a[b]))}}),q=a.Vd=Qu({uS:function(a){var b=0;a=a.features;for(var c=-1,d=a.length;++c<d;)b+=q(a[c]);return b},fK:function(a){return q(a.Ex)},IK:function(a){return c(a.Ne)},
AK:function(a){var b=0;a=a.Ne;for(var d=-1,e=a.length;++d<e;)b+=c(a[d]);return b},xS:function(a){var b=0;a=a.vP;for(var c=-1,d=a.length;++c<d;)b+=q(a[c]);return b}},0),v=a.YO=Qu({fK:function(a){return v(a.Ex)},IK:function(a){a=d(a.Ne);return[a[0]/a[2],a[1]/a[2]]},AK:function(a){a=a.Ne;for(var b,c=0,e=0,g=0,k=-1,l=a.length;++k<l;)b=d(a[k]),c+=b[0],e+=b[1],g+=b[2];return[c/g,e/g]}});a.w2=function(b){k=b;return a};a.q0a=function(b){"function"===typeof b?e=b:(e=+b,g=Ru(e));return a};return a};Z.Ch.dXa=
function(a){var b=window.Infinity,c=window.Infinity,d=-window.Infinity,e=-window.Infinity;Nz(a,function(a,g){a<b&&(b=a);a>d&&(d=a);g<c&&(c=g);g>e&&(e=g)});return[[b,c],[d,e]]};var OP={fK:function(a,b){Nz(a.Ex,b)},uS:function(a,b){a=a.features;for(var c=0,d=a.length;c<d;c++)Nz(a[c].Ex,b)},xS:function(a,b){a=a.vP;for(var c=0,d=a.length;c<d;c++)Nz(a[c],b)},y5:AP,D5:function(a,b){a=a.Ne;for(var c=0,d=a.length;c<d;c++)for(var e=a[c],g=0,k=e.length;g<k;g++)b.apply(null,e[g])},E5:AP,AK:function(a,b){a=a.Ne;
for(var c=0,d=a.length;c<d;c++)for(var e=a[c][0],g=0,k=e.length;g<k;g++)b.apply(null,e[g])},g6:function(a,b){b.apply(null,a.Ne)},IK:function(a,b){a=a.Ne[0];for(var c=0,d=a.length;c<d;c++)b.apply(null,a[c])}};Z.Ch.circle=function(){function a(){}function b(a){return k.Yj(a)<g}function c(a){for(var b=-1,d=a.length,e=[],l,p,q,v,x;++b<d;)x=k.Yj(q=a[b]),x<g?(p&&e.push(Tu(p,q)((v-g)/(v-x))),e.push(q),l=p=null):(p=q,!l&&e.length&&(e.push(Tu(e[e.length-1],p)((g-v)/(x-v))),l=p)),v=x;l=a[0];p=e[0];!p||q[0]!==
l[0]||q[1]!==l[1]||q[0]===p[0]&&q[1]===p[1]||e.push(p);a=0;p=(b=e.length)?[e[0]]:e;for(v=k.source();++a<b;)for(q=k.source(e[a-1])(e[a]).Ne,d=0,l=q.length;++d<l;)p.push(q[d]);k.source(v);return p}var d=[0,0],e=89.99,g=e*ac,k=Z.Ch.hBa().source(d).target(l);a.clip=function(a){"function"===typeof d&&k.source(d.apply(this,arguments));return p(a)||null};var p=Qu({uS:function(a){var b=a.features.map(p).filter(l);return b&&(a=Object.create(a),a.features=b,a)},fK:function(a){var b=p(a.Ex);return b&&(a=Object.create(a),
a.Ex=b,a)},g6:function(a){return b(a.Ne)&&a},E5:function(a){var c=a.Ne.filter(b);return c.length&&{type:a.type,Ne:c}},y5:function(a){var b=c(a.Ne);return b.length&&(a=Object.create(a),a.Ne=b,a)},D5:function(a){var b=a.Ne.map(c).filter(function(a){return a.length});return b.length&&(a=Object.create(a),a.Ne=b,a)},IK:function(a){var b=a.Ne.map(c);return b[0].length&&(a=Object.create(a),a.Ne=b,a)},AK:function(a){var b=a.Ne.map(function(a){return a.map(c)}).filter(function(a){return a[0].length});return b.length&&
(a=Object.create(a),a.Ne=b,a)},xS:function(a){var b=a.vP.map(p).filter(l);return b.length&&(a=Object.create(a),a.vP=b,a)}});a.origin=function(b){if(!arguments.length)return d;d=b;"function"!==typeof d&&k.source(d);return a};a.Yh=function(b){if(!arguments.length)return e;g=(e=+b)*ac;return a};return Z.Xu(a,k,"precision")};Z.Ch.hBa=function(){function a(){for(var b=a.Yj.apply(this,arguments),d=0,b=g/b,l=[c];1>(d+=b);)l.push(k(d));l.push(e);return{type:"LineString",Ne:l}}var b=BP,c,d=ti,e,g=6*ac,k=Su();
a.Yj=function(){"function"===typeof b&&k.source(c=b.apply(this,arguments));"function"===typeof d&&k.target(e=d.apply(this,arguments));return k.Yj()};a.source=function(d){if(!arguments.length)return b;b=d;"function"!==typeof b&&k.source(c=b);return a};a.target=function(b){if(!arguments.length)return d;d=b;"function"!==typeof d&&k.target(e=d);return a};a.precision=function(b){if(!arguments.length)return g/ac;g=b*ac;return a};return a};Z.Ch.CYa=Z.Ch.circle;Z.Hn={};Z.Hn.xXa=function(a,b){if(!b)a:for(var c=
b=0;;){if(a(b,c)){b=[b,c];break a}0===b?(b=c+1,c=0):(--b,c+=1)}var c=[],d=b[0],e=b[1],g,k,l=window.NaN,p=window.NaN;do k=0,a(d-1,e-1)&&(k+=1),a(d,e-1)&&(k+=2),a(d-1,e)&&(k+=4),a(d,e)&&(k+=8),6===k?(g=-1===p?-1:1,k=0):9===k?(g=0,k=1===l?-1:1):(g=B2[k],k=C2[k]),g!=l&&k!=p&&(c.push([d,e]),l=g,p=k),d+=g,e+=k;while(b[0]!=d||b[1]!=e);return c};var B2=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,window.NaN],C2=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,window.NaN];Z.Hn.SYa=function(a){if(3>a.length)return[];var b=a.length,
c=b-1,d=[],e=[],g,k=0,l,p,q,v,x,J,M;for(g=1;g<b;++g)a[g][1]<a[k][1]?k=g:a[g][1]==a[k][1]&&(k=a[g][0]<a[k][0]?g:k);for(g=0;g<b;++g)g!==k&&(p=a[g][1]-a[k][1],l=a[g][0]-a[k][0],d.push({Yh:Math.atan2(p,l),index:g}));d.sort(function(a,b){return a.Yh-b.Yh});M=d[0].Yh;J=d[0].index;x=0;for(g=1;g<c;++g)b=d[g].index,M==d[g].Yh?(l=a[J][0]-a[k][0],p=a[J][1]-a[k][1],q=a[b][0]-a[k][0],v=a[b][1]-a[k][1],l*l+p*p>=q*q+v*v?d[g].index=-1:(d[x].index=-1,M=d[g].Yh,x=g,J=b)):(M=d[g].Yh,x=g,J=b);e.push(k);for(b=g=0;2>g;++b)-1!==
d[b].index&&(e.push(d[b].index),g++);for(k=e.length;b<c;++b)if(-1!==d[b].index){for(;!Yg(e[k-2],e[k-1],d[b].index,a);)--k;e[k++]=d[b].index}c=[];for(g=0;g<k;++g)c.push(a[e[g]]);return c};Z.Hn.ZQ=function(a){a.Vd=function(){for(var b=0,c=a.length,d=a[c-1][0]*a[0][1],e=a[c-1][1]*a[0][0];++b<c;)d+=a[b-1][0]*a[b][1],e+=a[b-1][1]*a[b][0];return.5*(e-d)};a.YO=function(b){var c=-1,d=a.length,e=0,g=0,k,l=a[d-1],p;for(arguments.length||(b=-1/(6*a.Vd()));++c<d;)k=l,l=a[c],p=k[0]*l[1]-l[0]*k[1],e+=(k[0]+l[0])*
p,g+=(k[1]+l[1])*p;return[e*b,g*b]};a.clip=function(b){for(var c,d=-1,e=a.length,g,k,l=a[e-1],p,q,v;++d<e;){c=b.slice();b.length=0;p=a[d];q=c[(k=c.length)-1];for(g=-1;++g<k;)v=c[g],Yn(v,l,p)?(Yn(q,l,p)||b.push(rm(q,v,l,p)),b.push(v)):Yn(q,l,p)&&b.push(rm(q,v,l,p)),q=v;l=p}return b};return a};Z.Hn.Y1a=function(a){var b=a.map(function(){return[]});Oz(a,function(a){var c,d,e,g;1===a.a&&0<=a.b?(c=a.AB.r,d=a.AB.Vc):(c=a.AB.Vc,d=a.AB.r);1===a.a?(e=c?c.y:-1E6,c=a.c-a.b*e,g=d?d.y:1E6,d=a.c-a.b*g):(c=c?c.x:
-1E6,e=a.c-a.a*c,d=d?d.x:1E6,g=a.c-a.a*d);c=[c,e];d=[d,g];b[a.region.Vc.index].push(c,d);b[a.region.r.index].push(c,d)});return b.map(function(b,c){var d=a[c][0],e=a[c][1];b.forEach(function(a){a.Yh=Math.atan2(a[0]-d,a[1]-e)});return b.sort(function(a,b){return a.Yh-b.Yh}).filter(function(a,c){return!c||1E-10<a.Yh-b[c-1].Yh})})};var YG={Vc:"r",r:"l"};Z.Hn.$Xa=function(a){var b=a.map(function(){return[]}),c=[];Oz(a,function(c){b[c.region.Vc.index].push(a[c.region.r.index])});b.forEach(function(b,d){d=
a[d];var e=d[0],g=d[1];b.forEach(function(a){a.Yh=Math.atan2(a[0]-e,a[1]-g)});b.sort(function(a,b){return a.Yh-b.Yh});for(var k=0,l=b.length-1;k<l;k++)c.push([d,b[k],b[k+1]])});return c};Z.Hn.vFa=function(a,b,c,d,e){function g(a,b,c,d,e,l){if(!(0,window.isNaN)(b.x)&&!(0,window.isNaN)(b.y))if(a.CI){var p=a.point;p?(.01>Math.abs(p.x-b.x)+Math.abs(p.y-b.y)||(a.point=null,k(a,p,c,d,e,l)),k(a,b,c,d,e,l)):a.point=b}else k(a,b,c,d,e,l)}function k(a,b,c,d,e,l){var p=.5*(c+e),q=.5*(d+l),v=b.x>=p,x=b.y>=q,
J=(x<<1)+v;a.CI=!1;a=a.Tu[J]||(a.Tu[J]={CI:!0,Tu:[],point:null});v?c=p:e=p;x?d=q:l=q;g(a,b,c,d,e,l)}var l,p=-1,q=a.length;q&&(0,window.isNaN)(a[0].x)&&(a=a.map(s2));if(5>arguments.length)if(3===arguments.length)e=d=c,c=b;else{b=c=window.Infinity;for(d=e=-window.Infinity;++p<q;)l=a[p],l.x<b&&(b=l.x),l.y<c&&(c=l.y),l.x>d&&(d=l.x),l.y>e&&(e=l.y);l=d-b;p=e-c;l>p?e=c+l:d=b+p}var v={CI:!0,Tu:[],point:null,add:function(a){g(v,a,b,c,d,e)},ZGa:function(a){sm(a,v,b,c,d,e)}};a.forEach(v.add);return v};Z.time=
{};var ag=Date,eA="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");pl.prototype={getDate:function(){return this.$e.getUTCDate()},getDay:function(){return this.$e.getUTCDay()},getFullYear:function(){return this.$e.getUTCFullYear()},getHours:function(){return this.$e.getUTCHours()},getMilliseconds:function(){return this.$e.getUTCMilliseconds()},getMinutes:function(){return this.$e.getUTCMinutes()},getMonth:function(){return this.$e.getUTCMonth()},getSeconds:function(){return this.$e.getUTCSeconds()},
getTime:function(){return this.$e.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this.$e.valueOf()},setDate:function(){vm.setUTCDate.apply(this.$e,arguments)},setFullYear:function(){vm.setUTCFullYear.apply(this.$e,arguments)},setHours:function(){vm.setUTCHours.apply(this.$e,arguments)},setMilliseconds:function(){vm.setUTCMilliseconds.apply(this.$e,arguments)},setMinutes:function(){vm.setUTCMinutes.apply(this.$e,arguments)},setMonth:function(){vm.setUTCMonth.apply(this.$e,
arguments)},setSeconds:function(){vm.setUTCSeconds.apply(this.$e,arguments)},setTime:function(){vm.setTime.apply(this.$e,arguments)}};var vm=Date.prototype,PP=eA.map(Pz),fA="January February March April May June July August September October November December".split(" "),ao=fA.map(Pz);Z.time.format=function(a){function b(d){for(var e=[],g=-1,k=0,l,p;++g<c;)37==a.charCodeAt(g)&&(e.push(a.substring(k,g),(p=dv[l=a.charAt(++g)])?p(d):l),k=g+1);e.push(a.substring(k,g));return e.join("")}var c=a.length;
b.parse=function(b){var c={y:1900,Pu:0,d:1,iz:0,M:0,QK:0,nK:0};if(fq(c,a,b,0)!=b.length)return null;"p"in c&&(c.iz=c.iz%12+12*c.p);b=new ag;b.setFullYear(c.y,c.Pu,c.d);b.setHours(c.iz,c.M,c.QK,c.nK);return b};b.toString=function(){return a};return b};var wj=Z.format("02d"),gA=Z.format("03d"),ZG=Z.format("04d"),$G=Z.format("2d"),aH=gq(eA),bH=gq(PP),cv=gq(fA),D2=MG(fA),cH=gq(ao),E2=MG(ao),dv={a:function(a){return PP[a.getDay()]},A:function(a){return eA[a.getDay()]},b:function(a){return ao[a.getMonth()]},
B:function(a){return fA[a.getMonth()]},c:Z.time.format("%a %b %e %H:%M:%S %Y"),d:function(a){return wj(a.getDate())},e:function(a){return $G(a.getDate())},iz:function(a){return wj(a.getHours())},I:function(a){return wj(a.getHours()%12||12)},MZa:function(a){return gA(1+Z.time.H_(a))},nK:function(a){return gA(a.getMilliseconds())},Pu:function(a){return wj(a.getMonth()+1)},M:function(a){return wj(a.getMinutes())},p:function(a){return 12<=a.getHours()?"PM":"AM"},QK:function(a){return wj(a.getSeconds())},
PUa:function(a){return wj(Z.time.xGa(a))},$Ga:function(a){return a.getDay()},kma:function(a){return wj(Z.time.J_a(a))},x:Z.time.format("%m/%d/%y"),E6:Z.time.format("%H:%M:%S"),y:function(a){return wj(a.getFullYear()%100)},Y:function(a){return ZG(a.getFullYear()%1E4)},yWa:function(a){a=a.getTimezoneOffset();var b=Math.abs(a)%60;return(0<a?"-":"+")+wj(~~(Math.abs(a)/60))+wj(b)},"%":function(){return"%"}},F2={a:function(a,b,c){bH.lastIndex=0;return(a=bH.exec(b.substring(c)))?c+a[0].length:-1},A:function(a,
b,c){aH.lastIndex=0;return(a=aH.exec(b.substring(c)))?c+a[0].length:-1},b:function(a,b,c){cH.lastIndex=0;return(b=cH.exec(b.substring(c)))?(a.Pu=E2.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){cv.lastIndex=0;return(b=cv.exec(b.substring(c)))?(a.Pu=D2.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,c){return fq(a,dv.c.toString(),b,c)},d:CP,e:CP,iz:DP,I:DP,nK:function(a,b,c){bg.lastIndex=0;return(b=bg.exec(b.substring(c,c+3)))?(a.nK=+b[0],c+b[0].length):-1},Pu:function(a,b,
c){bg.lastIndex=0;return(b=bg.exec(b.substring(c,c+2)))?(a.Pu=b[0]-1,c+b[0].length):-1},M:function(a,b,c){bg.lastIndex=0;return(b=bg.exec(b.substring(c,c+2)))?(a.M=+b[0],c+b[0].length):-1},p:function(a,b,c){b=QP.get(b.substring(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},QK:function(a,b,c){bg.lastIndex=0;return(b=bg.exec(b.substring(c,c+2)))?(a.QK=+b[0],c+b[0].length):-1},x:function(a,b,c){return fq(a,dv.x.toString(),b,c)},E6:function(a,b,c){return fq(a,dv.E6.toString(),b,c)},y:function(a,
b,c){bg.lastIndex=0;if(b=bg.exec(b.substring(c,c+2))){var d=+b[0];a=(a.y=d+(68<d?1900:2E3),c+b[0].length)}else a=-1;return a},Y:function(a,b,c){bg.lastIndex=0;return(b=bg.exec(b.substring(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}},bg=/^\s*\d+/,QP=Z.map({IWa:0,p0a:1});Z.time.format.Fe=function(a){function b(a){try{ag=pl;var d=new ag;d.$e=a;return c(d)}finally{ag=Date}}var c=Z.time.format(a);b.parse=function(a){try{ag=pl;var b=c.parse(a);return b&&b.$e}finally{ag=Date}};b.toString=c.toString;return b};
var dH=Z.time.format.Fe("%Y-%m-%dT%H:%M:%S.%LZ");Z.time.format.KZa=Date.prototype.toISOString?Uu:dH;Uu.parse=function(a){a=new Date(a);return(0,window.isNaN)(a)?null:a};Uu.toString=dH.toString;Z.time.second=Zn(function(a){return new ag(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});Z.time.QC=Z.time.second.range;Z.time.QC.Fe=Z.time.second.Fe.range;Z.time.minute=Zn(function(a){return new ag(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+
6E4*Math.floor(b))},function(a){return a.getMinutes()});Z.time.lEa=Z.time.minute.range;Z.time.lEa.Fe=Z.time.minute.Fe.range;Z.time.hour=Zn(function(a){var b=a.getTimezoneOffset()/60;return new ag(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});Z.time.RBa=Z.time.hour.range;Z.time.RBa.Fe=Z.time.hour.Fe.range;Z.time.day=Zn(function(a){var b=new ag(1970,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,
b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});Z.time.mm=Z.time.day.range;Z.time.mm.Fe=Z.time.day.Fe.range;Z.time.H_=function(a){var b=Z.time.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};eA.forEach(function(a,b){a=a.toLowerCase();b=7-b;var c=Z.time[a]=Zn(function(a){(a=Z.time.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=Z.time.year(a).getDay();return Math.floor((Z.time.H_(a)+
(c+b)%7)/7)-(c!==b)});Z.time[a+"s"]=c.range;Z.time[a+"s"].Fe=c.Fe.range;Z.time[a+"OfYear"]=function(a){var c=Z.time.year(a).getDay();return Math.floor((Z.time.H_(a)+(c+b)%7)/7)}});Z.time.week=Z.time.sunday;Z.time.weeks=Z.time.sunday.range;Z.time.weeks.Fe=Z.time.sunday.Fe.range;Z.time.Z1a=Z.time.xGa;Z.time.month=Zn(function(a){a=Z.time.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});Z.time.qEa=Z.time.month.range;Z.time.qEa.Fe=Z.time.month.Fe.range;
Z.time.year=Zn(function(a){a=Z.time.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});Z.time.pHa=Z.time.year.range;Z.time.pHa.Fe=Z.time.year.Fe.range;var pq=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],ev=[[Z.time.second,1],[Z.time.second,5],[Z.time.second,15],[Z.time.second,30],[Z.time.minute,1],[Z.time.minute,5],[Z.time.minute,15],[Z.time.minute,30],[Z.time.hour,1],[Z.time.hour,
3],[Z.time.hour,6],[Z.time.hour,12],[Z.time.day,1],[Z.time.day,2],[Z.time.week,1],[Z.time.month,1],[Z.time.month,3],[Z.time.year,1]],hA=[[Z.time.format("%Y"),function(){return!0}],[Z.time.format("%B"),function(a){return a.getMonth()}],[Z.time.format("%b %d"),function(a){return 1!=a.getDate()}],[Z.time.format("%a %d"),function(a){return a.getDay()&&1!=a.getDate()}],[Z.time.format("%I %p"),function(a){return a.getHours()}],[Z.time.format("%I:%M"),function(a){return a.getMinutes()}],[Z.time.format(":%S"),
function(a){return a.getSeconds()}],[Z.time.format(".%L"),function(a){return a.getMilliseconds()}]],RP=Z.scale.Op(),SP=EP(hA);ev.year=function(a,b){return RP.domain(a.map(t2)).mh(b).map(Sz)};Z.time.scale=function(){return NG(Z.scale.Op(),ev,SP)};var fv=ev.map(function(a){return[a[0].Fe,a[1]]}),eH=[[Z.time.format.Fe("%Y"),function(){return!0}],[Z.time.format.Fe("%B"),function(a){return a.getUTCMonth()}],[Z.time.format.Fe("%b %d"),function(a){return 1!=a.getUTCDate()}],[Z.time.format.Fe("%a %d"),function(a){return a.getUTCDay()&&
1!=a.getUTCDate()}],[Z.time.format.Fe("%I %p"),function(a){return a.getUTCHours()}],[Z.time.format.Fe("%I:%M"),function(a){return a.getUTCMinutes()}],[Z.time.format.Fe(":%S"),function(a){return a.getUTCSeconds()}],[Z.time.format.Fe(".%L"),function(a){return a.getUTCMilliseconds()}]],fH=EP(eH);fv.year=function(a,b){return RP.domain(a.map(Uz)).mh(b).map(Tz)};Z.time.scale.Fe=function(){return NG(Z.scale.Op(),fv,fH)}})();W7.prototype.ds=function(){this.wE&&(this.wE.innerHTML="",u4a(this,this.lU))};
W7.prototype.transition=function(a){this.lU=a;var b=this.Wt.Ai(),c=this.Ag.Ai();this.Wt.domain(Z.rP(a,function(a){return a.time}));var d=Z.max(a,function(a){return a.value});if(!d||d<this.O9)d=this.O9;this.Ag.domain([0,d]);Z.select(".bargraph-xAxis").transition().duration(500).call(this.Oba);Z.select(".bargraph-yAxis").transition().duration(500).call(this.WZ);d=Z.select(".bargraph-gridLines").ag("line.bargraph-gridLine").data(this.Ag.mh(5));d.transition().duration(500).Ca("y1",this.Ag).Ca("y2",this.Ag);
d.Zj().append("line").transition().duration(500).Ca("class","bargraph-gridLine").Ca("x1",0).Ca("x2",this.gp).Ca("y1",this.Ag).Ca("y2",this.Ag);d.CH().remove();a=this.Qt.ag("rect").data(a,function(a){return a.time});a.Ca("data-tooltip",this.nV).transition().duration(500).Ca("x",function(a){return this.Wt(a.time)-this.Bo/2}.bind(this)).Ca("y",function(a){return this.Ag(a.value)}.bind(this)).Ca("height",function(a){return this.Xi-this.Ag(a.value)}.bind(this));a.Zj().append("rect").Ca("data-tooltip",
this.nV).Ca("class","bargraph-bar").Ca("x",function(a){return b(a.time)-this.Bo/2}.bind(this)).Ca("y",function(a){return c(a.value)}).Ca("width",this.Bo).Ca("height",function(a){return this.Xi-c(a.value)}.bind(this)).transition().duration(500).Ca("x",function(a){return this.Wt(a.time)-this.Bo/2}.bind(this)).Ca("y",function(a){return this.Ag(a.value)}.bind(this)).Ca("height",function(a){return this.Xi-this.Ag(a.value)}.bind(this));a.CH().transition().duration(500).Ca("x",function(a){return this.Wt(a.time)-
this.Bo/2}.bind(this)).Ca("y",function(a){return this.Ag(a.value)}.bind(this)).Ca("height",function(a){return this.Xi-this.Ag(a.value)}.bind(this)).remove()};z.r(X7,z.FA);z.f=X7.prototype;z.f.dk=z.xb("none");z.f.Tb=function(){this.xE=new W7(this.query(".bargraph"));z.Q(this.Ra).O("show-graph-next",this.nxa,this).O("show-graph-previous",this.oxa,this).O("switch-graph",this.eya,this).O("show-syndicated-views-popover",this.Fxa,this)};z.f.S=function(){X7.fa.S.call(this);z.tw(this,this.kb,"resize-end",this.xE.ds,this.xE)};
z.f.gca=function(a){a=a.value.map(function(a){return a.userId?z.Of.rb(S7,a):z.Of.rb(R7,a)});for(var b=Z3a(this.wn,this.Zm,this.Ww),c=b.buckets,d=b.mm,b=0;b<a.length;b++){var e=a[b],g=void 0,g=e.timestampMs?P7(e.timestampMs):P7(e.collectedAt);c[g]&&(c[g].reads+=e.reads,c[g].views+=e.views,c[g].fans+=e.upvotes-e.unvotes,c[g].ttr+=e.ttrMs/6E4,c[g].subscribers+=e.updateNotificationSubscribers-e.updateNotificationUnsubscribers,c[g].claps+=e.claps,0>c[g].fans&&(c[g].fans=0))}var k={},l={};this.Ww.forEach(function(a){k[a]=
[];l[a]=0;for(var b={reads:"reads",views:"views",fans:"fans",ttr:"mins",subscribers:"subscribers",claps:"claps"}[a],e=0;e<d.length;e++){var g=c[d[e]][a];l[a]+=g;k[a].push({time:d[e],value:Math.round(g),label:1==g?b.substring(0,b.length-1):b})}l[a]=Math.round(l[a]);0>l[a]&&(l[a]=0)});this.gO=k;this.Xw=l};z.f.nxa=function(){this.wn=this.Zm+1;this.Zm+=2592E6;v4a(this)};z.f.oxa=function(){this.Zm=this.wn-1;this.wn-=2592E6;v4a(this)};
z.f.eya=function(a){var b=a.target,c=this.query(".chartTabs .is-active");c!=b&&(z.qc(c,"is-active"),z.nc(b,"is-active"));this.xE.transition(this.gO[a.value]);this.T7=a.value};z.f.Fya=function(){this.xE.transition(this.gO[this.T7]);x4a(this);w4a(this)};z.f.Fxa=function(a){z.eC(z.fC(this.qa),a.target).Pa(t4a).ba()};z.m(Z7,z.O);Z7.prototype.S=function(){var a=this;z.O.prototype.S.call(this);z.Q(this.U()).O("sort-table",this.Lqa,this);z.tw(this,this.Zi,"add",this.$sa,this);this.ud=new z.tS(this.X,this.Zi,25);this.ud.ho(z.Ov(this.U()));(0,window.setTimeout)(function(){a.ud&&z.uS(a.ud)},250)};Z7.prototype.ka=function(){z.no(this.ud);this.ud=null;this.ct&&(this.ct.cancel(),this.ct=null);z.$w(this.U());z.O.prototype.ka.call(this)};
Z7.prototype.$sa=function(a){var b=this.query(".js-statsTableBody"),c=this.Zi.oe()-a.length-1;a=z.Ou(q4a,{postStats:a,mFa:-1==c?null:z.KC(this.Zi,c),rr:this.hna});a=z.Rr("\x3ctable\x3e"+a+"\x3c/table\x3e").rows;z.Od(b,a)};Z7.prototype.Lqa=function(a){var b=this;this.Zi.Ik?(this.ct&&(this.ct.cancel(),this.ct=null),this.ha.ba(z.Ou(e4a),{yk:15E3}),this.ct=z.Ara(this.Zi,15E3),z.u(z.t(this.ct,function(){b.ha.ac();B4a(b,a)}),function(a){b.ha.ba(z.Ou(f4a),{type:"error"});z.nw(a)})):B4a(this,a)};
var y4a="date",A4a="date";z.r($7,X7);z.f=$7.prototype;z.f.Cc=function(){return z.t(z.t(this.Qa.WB(this.eh,this.bZ),this.Gb,this),this.Nc,this)};z.f.Tb=function(){z.IA(this,{});$7.fa.Tb.call(this);this.C3()};z.f.Wc=function(a){return z.t(this.Qa.WB(this.eh,this.bZ,a),this.Gb,this)};z.f.S=function(){$7.fa.S.call(this);var a=this.query(".js-statsTable");if(a){var b=new Z7(this.ra(),this.Cw,X3a(this.ie));b.Ga(a);this.track(b)}};
z.f.c0=function(){return this.eh&&"all"==this.Za?this.V.R(z.aCa,{startTimeMs:this.wn,endTimeMs:this.Zm,username:this.eh}):this.eh?this.V.R(z.bCa,{startTimeMs:this.wn,endTimeMs:this.Zm,postId:this.Za}):"all"==this.Za?this.V.R(z.ZBa,{startTimeMs:this.wn,endTimeMs:this.Zm}):this.V.R(z.$Ba,{startTimeMs:this.wn,endTimeMs:this.Zm,postId:this.Za})};z.f.C3=function(){z.u(z.t(z.t(z.GA(this,"request").get(this.c0()),this.gca,this),function(){u4a(this.xE,this.gO.views);w4a(this);x4a(this)},this),function(a){z.nw(a)})};
z.f.Gb=function(a){this.Cw=a.FC};z.f.Nc=function(){z.Pu(this.Ra,r4a,{postStats:z.MC(this.Cw),rr:X3a(this.ie),XB:"series"==this.ie?{views:!0,subscribers:!0,claps:!0}:{views:!0,reads:!0,fans:!0},activeTab:this.ie,username:this.eh})};z.m(a8,z.O);a8.prototype.Kj=function(a){var b=(a=(this.QV=a)?this.QV:this.Cna)?a.time:null;this.NV&&this.NV(a);Z.select(this.U()).ZO("barGraph2--highlighted",!!b||this.MV);(a=this.query(".js-barGraphAverage"))&&z.tc(a,"u-hide",!!b||!this.MV);a=this.query(".js-barGraphBars");Z.select(a).ag("rect").filter(function(a){return a.time!==b}).ZO("barGraph2-bar--highlighted",!1);Z.select(a).ag("rect").filter(function(a){return a.time===b}).ZO("barGraph2-bar--highlighted",!0)};
a8.prototype.ds=function(a){var b=this.U();if(a.length){var c=b.offsetHeight,c=c-5-30;this.Td=a;var d=b.offsetWidth-50,e=d/a.length-2,g=Z.time.scale().range([e/2,d-e/2]),k=Z.scale.Op().range([c,0]),l=Z.svg.axis().scale(g).QQ("bottom").mh(3),p=Z.svg.axis().scale(k).QQ("left").mh(5),b=Z.select(b).append("svg").Ca("width",d+50+0).Ca("height",c+5+30).Ca("style","padding: 2px").O("mouseleave",this.Kj.bind(this,null)),b=b.append("g").Ca("transform","translate(50,5)");g.domain(Z.rP(a,function(a){return a.time}));
k.domain([0,Z.max(a,function(a){return a.value})]);b.append("g").Ca("class","bargraph-xAxis").Ca("transform","translate(0,"+c+")").call(l);b.append("g").Ca("class","bargraph-yAxis").call(p);b.append("g").Ca("class","bargraph-gridLines").ag("line").data(k.mh(5)).Zj().append("line").Ca("class","bargraph-gridLine").Ca("x1",0).Ca("x2",d).Ca("y1",k).Ca("y2",k);b.append("g").Ca("class","js-barGraphBars").ag("rect").data(a).Zj().append("rect").Ca("class","barGraph2-bar").Ca("x",function(a){return g(a.time)-
e/2}).Ca("width",e).Ca("y",function(a){return k(a.value)}).Ca("height",function(a){return c-k(a.value)}).O("mouseenter",this.Kj.bind(this));var q=0;a.forEach(function(a){q+=a.value});a=Math.round(q/Object.keys(a).length);b.append("line").Ca("x1",0).Ca("x2",d).Ca("y1",k(a)).Ca("y2",k(a)).Ca("class","bargraph-averageLine u-hide js-barGraphAverage")}};z.r(b8,z.H);z.f=b8.prototype;z.f.F=function(){return""};z.f.H=function(){return""};z.f.ya=function(){return z.F(this,"postId")};z.f.vb=function(a){return z.G(this,"postId",a)};z.f.$u=function(a){return z.G(this,"authorId",a)};z.f.NP=function(){return z.F(this,"recommends")};z.f.vR=function(a){return z.G(this,"recommends",a)};z.f.J=function(){return b8.prototype};
z.f.D={name:"CollectionViewStat",L:!1,fields:{timeWindowStart:{name:"timeWindowStart",g:z.V,h:1},postId:{name:"postId",g:z.U,h:2},authorId:{name:"authorId",g:z.U,h:3},page:{name:"page",g:z.U,h:4},ttrMs:{name:"ttrMs",g:z.V,h:5},views:{name:"views",g:z.V,h:6},recommends:{name:"recommends",g:z.V,h:7}},N:{}};z.r(c8,z.H);z.f=c8.prototype;z.f.F=function(){return""};z.f.H=function(){return""};z.f.qb=function(){return z.F(this,"collectionId")};z.f.J=function(){return c8.prototype};
z.f.D={name:"CollectionVisitorStat",L:!1,fields:{timeWindowStart:{name:"timeWindowStart",g:z.V,h:1},collectionId:{name:"collectionId",g:z.U,h:2},dailyUniqueVisitors:{name:"dailyUniqueVisitors",g:z.V,h:3}},N:{}};z.m(d8,z.O);d8.prototype.S=function(){z.O.prototype.S.call(this);var a=new a8(this.query(".js-barGraph")),b=this.highlight.bind(this);a.NV=b;this.SO=a;this.track(this.SO);a=(0,z.Ca)();b=T7(a,30);b=Math.max(14533344E5,b);this.ds(0,0,[]);z.t(this.fetch(b,a),this.ds.bind(this,b,a));z.Q(this.U()).O("select-time",this.Jwa,this)};d8.prototype.highlight=function(a){a?this.G2(a):this.iR(this.Td)};
d8.prototype.ds=function(a,b,c){this.query(".js-barGraph").innerHTML="";this.fF=a;this.XG=b;this.Td=c;this.SO.ds(c);this.iR(c)};d8.prototype.Jwa=function(a){var b=(0,z.Ca)(),c=T7(b,30);"threeMonths"==a.value&&(c=T7(b,90));for(var c=Math.max(14533344E5,c),d=["month","threeMonths"],e=0;e<d.length;e++)z.tc(this.query(".js-time-"+d[e]),"is-active",d[e]==a.value);z.t(this.fetch(c,b),this.ds.bind(this,c,b))};z.m(e8,d8);e8.prototype.fetch=function(a,b){var c=this.V.R(z.vCa,{collectionId:this.Ph},{from:a,to:b});return z.u(z.t(this.Z.get(c),function(c){c=c.value.map(C4a);var e=Y3a(a,b);c.forEach(function(a){var b=P7(a.timeWindowStart);e[b].value+=a.views});return z.gb(e)}),z.nw)};e8.prototype.G2=function(a){var b=this.query(".js-viewsStatsText");z.Pu(b,n4a,{date:z.qf(a.time,"%b %d"),views:Math.floor(a.value)})};
e8.prototype.iR=function(a){var b=this.query(".js-viewsStatsText"),c=0;a.forEach(function(a){c+=a.value});z.Pu(b,j4a,{mm:a.length,views:c})};z.m(f8,d8);f8.prototype.fetch=function(a,b){var c=this.V.R(z.vCa,{collectionId:this.Ph},{from:a,to:b});return z.u(z.t(this.Z.get(c),function(c){c=c.value.map(C4a);var e=Y3a(a,b);c.forEach(function(a){var b=P7(a.timeWindowStart);e[b].value+=a.ttrMs/6E4});return z.gb(e)}),z.nw)};f8.prototype.G2=function(a){var b=this.query(".js-readingTimeStatsText");z.Pu(b,o4a,{date:z.qf(a.time,"%b %d"),readingTime:Math.floor(a.value)})};
f8.prototype.iR=function(a){var b=this.query(".js-readingTimeStatsText"),c=0;a.forEach(function(a){c+=a.value});z.Pu(b,i4a,{mm:a.length,readingTime:Math.floor(c)})};z.m(g8,d8);g8.prototype.fetch=function(a,b){var c=this.V.R(z.wCa,{collectionId:this.Ph},{from:a,to:b});return z.u(z.t(this.Z.get(c),function(c){c=c.value.map(D4a);return E4a(a,b,c)}),z.nw)};g8.prototype.G2=function(a){var b=this.query(".js-visitorsStatsText");z.Pu(b,p4a,{date:z.qf(a.time,"%b %d"),UR:Math.floor(a.value)})};g8.prototype.iR=function(a){var b=this.query(".js-visitorsStatsText"),c=0;a.forEach(function(a){c+=a.value});var d=Math.round(c/Object.keys(a).length);z.Pu(b,k4a,{mm:a.length,UR:d})};
g8.prototype.ds=function(a,b,c){d8.prototype.ds.call(this,a,b,c);a=this.SO;a.MV=!0;a.Kj(null)};z.m(h8,z.FA);z.f=h8.prototype;z.f.Cc=function(){var a;a=this.Ba;a=z.t(z.nD(a.Z,z.su,{collectionSlug:this.Pb}),a.d2,a);return z.t(z.t(a,this.Gb,this),this.Nc,this)};z.f.Wc=function(a){this.Gb(this.Ba.d2(a))};
z.f.S=function(){z.FA.prototype.S.call(this);this.Hba=new e8(this.ra(),this.Ra.querySelector(".js-viewsStats"),this.Wa.id);this.track(this.Hba);this.O$=new f8(this.ra(),this.Ra.querySelector(".js-readingTimeStats"),this.Wa.id);this.track(this.O$);this.Kba=new g8(this.ra(),this.Ra.querySelector(".js-visitorsStats"),this.Wa.id);this.track(this.Kba);z.Q(this.Ra).O("show-tab",this.YY,this)};z.f.Gb=function(a){this.Wa=a.collection};z.f.Nc=function(){z.Pu(this.Ra,l4a,{collection:this.Wa})};
z.f.YY=function(a){"stories"==a.value&&this.xa.navigate(this.V.kj(z.TB,this.Wa))};z.m(i8,X7);z.f=i8.prototype;z.f.Cc=function(){return z.t(z.t(this.Qa.DB(this.Pb),this.Gb,this),this.Nc,this)};z.f.Wc=function(a){return z.t(this.Qa.DB(this.Pb,a),this.Gb,this)};z.f.S=function(){X7.prototype.S.call(this);var a=this.query(".js-statsTable");if(a){var b=new Z7(this.ra(),this.Cw,this.Yaa);b.Ga(a);this.track(b)}z.Q(this.Ra).O("show-tab",this.YY,this)};z.f.Tb=function(){X7.prototype.Tb.call(this);this.C3()};z.f.ka=function(){this.A7&&this.A7.cancel();X7.prototype.ka.call(this)};
z.f.Gb=function(a){this.Wa=a.collection;this.Cw=a.FC};z.f.Nc=function(){z.Pu(this.Ra,r4a,{username:this.eh,collection:this.Wa,postStats:z.MC(this.Cw),rr:this.Yaa,XB:{views:!0,reads:!0,fans:!0}})};z.f.YY=function(a){"overview"==a.value&&this.xa.navigate(this.V.kj(z.su,this.Wa))};z.f.c0=function(){return this.V.R(z.bCa,{startTimeMs:this.wn,endTimeMs:this.Zm,postId:this.Za})};z.f.C3=function(){};var F4a=z.qx;z.tx(z.tx(z.tx(F4a.ra().scope("app"),"UserStatsScreen",$7),"CollectionStatsScreen2",h8),"CollectionStatsStoriesScreen",i8);z.sN(F4a,"stats");}).call(this, _mdm);
